// ============================================================
// Admin móvil: tablas como tarjetas + botones y headers táctiles
// Aplica a max-width 768px (tablet y móvil)
// ============================================================
@use "src/styles/mixin" as *;
@use "src/styles/landing-design" as *;

$admin-mobile-card-padding: 18px;
$admin-mobile-gap: 14px;
$admin-mobile-touch: 48px;
$admin-mobile-radius: 14px;

@mixin apply {
  @include respond-to(tablet) {
  // ----- Contenedores de página admin (header + filtros) -----
  .admin-contain,
  .ordens-contain,
  .coupons-contain,
  .planAdmin-contain,
  .blocked-domains-contain,
  .blocked-phones-contain,
  .history-contain {
    padding-bottom: 24px;
    gap: 20px;

    .header {
      gap: 12px;

      .title-and-export {
        display: flex;
        flex-direction: column;
        align-items: stretch;
        width: 100%;
        gap: 10px;

        h1 {
          width: 100%;
        }
      }

      h1 {
        font-size: var(--app-font-size-h2);
        margin: 0 0 8px 0;
        line-height: 1.2;
        color: var(--ad-title);
      }

      .btn-addUsers,
      .btn-addCoupon,
      .btn-addPlan,
      .btn-addDomain,
      .btn-addPhone,
      button.btn-addUsers {
        width: 100%;
        min-height: $admin-mobile-touch;
        padding: 14px 20px;
        font-size: var(--app-font-size-body-lg);
        border-radius: $admin-mobile-radius;
        font-weight: var(--app-font-weight-heading);
      }
    }

    .filter-contain {
      gap: $admin-mobile-gap;

      .left-contain {
        gap: $admin-mobile-gap;
      }

      .search-input {
        min-height: $admin-mobile-touch;
        padding: 14px 18px;
        padding-right: 48px;
        font-size: var(--app-font-size-body);
        border-radius: $admin-mobile-radius;

        input {
          font-size: var(--app-font-size-body);
        }
      }

      .select-input {
        select,
        .date-input {
          min-height: $admin-mobile-touch;
          padding: 14px 18px;
          font-size: var(--app-font-size-body);
          border-radius: $admin-mobile-radius;
        }

        p {
          font-size: var(--app-font-size-body);
          margin-bottom: 6px;
        }
      }
    }

    .domain-form,
    .phone-form {
      gap: 12px;

      input {
        min-height: $admin-mobile-touch;
        padding: 14px 18px;
        font-size: var(--app-font-size-body);
        border-radius: $admin-mobile-radius;
      }

      .btn-addDomain,
      .btn-addPhone {
        min-height: $admin-mobile-touch;
        padding: 14px 20px;
        font-size: var(--app-font-size-body-lg);
        border-radius: $admin-mobile-radius;
      }
    }
  }

  // ----- Tabla como tarjetas -----
  .admin-table .table-contain {
    overflow-x: visible;
    max-height: none;
  }

  .admin-table .table-contain table {
    min-width: 0;
    display: block;
    border: none;
    border-radius: 0;

    thead {
      display: none;
    }

    tbody {
      display: block;

      tr {
        display: block;
        margin-bottom: 16px;
        padding: $admin-mobile-card-padding;
        background: $card-glass;
        border: 1px solid $card-glass-border;
        border-radius: $admin-mobile-radius;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);

        &.tr-load td {
          display: block;
          padding: 14px 0;
          border: none;
          max-width: none;
        }

        td {
          display: block;
          max-width: none;
          padding: 12px 0;
          border: none;
          border-bottom: 1px solid var(--ad-border);
          font-size: var(--app-font-size-body-lg);
          line-height: 1.4;
          color: var(--ad-text);

          &:last-child {
            border-bottom: none;
            padding-bottom: 0;
          }

          &[data-label]::before {
            content: attr(data-label);
            display: block;
            font-weight: var(--app-font-weight-heading);
            color: var(--ad-accent);
            font-size: var(--app-font-size-body);
            margin-bottom: 4px;
            letter-spacing: 0.02em;
          }

          // Botones genéricos dentro de celdas (Editar, Eliminar, etc.)
          &:not(.wrap-td) button {
            min-height: $admin-mobile-touch;
            padding: 12px 18px;
            font-size: var(--app-font-size-body);
            border-radius: 12px;
            width: 100%;
            margin-top: 4px;
          }
        }

        // Celda de acciones (dropdown + botones)
        td.wrap-td {
          display: flex;
          flex-wrap: wrap;
          gap: 10px;
          padding-top: 14px;
          margin-top: 6px;
          border-top: 1px solid var(--ad-border);

          &::before {
            width: 100%;
            margin-bottom: 8px;
          }

          .dropdown {
            width: 100%;
          }

          .dropbtn {
            width: 100%;
            min-height: $admin-mobile-touch;
            padding: 14px 18px;
            font-size: var(--app-font-size-body-lg);
            font-weight: var(--app-font-weight-heading);
            border-radius: 12px;
          }

          .dropdown-content {
            left: 0;
            right: 0;
            min-width: 100%;
            width: 100%;
            margin-top: 8px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
          }

          .dropdown-content button {
            min-height: 52px;
            padding: 14px 18px;
            font-size: var(--app-font-size-body-lg);
            text-align: left;
            border-bottom: 1px solid var(--ad-border);

            &:last-child {
              border-bottom: none;
            }

            &.icon-button {
              min-height: 52px;
            }
          }

          // Botones sueltos (bloquear, etc.) y iconos
          > button:not(.dropbtn) {
            min-height: $admin-mobile-touch;
            padding: 12px 18px;
            font-size: var(--app-font-size-body);
            border-radius: 12px;
            flex: 1 1 140px;
            min-width: 0;
          }

          svg {
            min-width: 48px;
            min-height: 48px;
          }
        }
      }
    }

    tfoot {
      display: block;
      position: static;
      margin-top: 16px;

      tr {
        display: block;
      }

      th {
        display: block;
        max-width: none;
        padding: 0;
        border: none;
      }

      .pagination-container {
        padding: 14px 12px;
        border-radius: $admin-mobile-radius;
      }

      .left-text,
      .right-side .selected,
      .right-side .unselected,
      .right-side p {
        font-size: var(--app-font-size-body-lg);
      }

      .right-side svg {
        min-width: 48px;
        min-height: 48px;
      }

      .right-side .unselected,
      .right-side .points {
        min-width: 44px;
        min-height: 48px;
      }
    }
  }
  }
}

@import "~bootstrap/scss/bootstrap";
@import "~flag-icons/css/flag-icons.min.css";
@import "./_variables-theme.scss";
@import "./mixin.scss";
@import "./_mobile-app.scss";
@font-face {
  font-family: "Bear Font2";
  src: url("../assets/fonts/Arkhip_font.otf");
}
@font-face {
  font-family: "Bear-font";
  src: url("../assets/fonts/Arkhip_font.ttf");
}
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* === INYECCIÓN ROOT: fondo negro global por defecto (evita "virus blanco") === */
html,
#root,
body {
  min-height: 100vh;
  margin: 0;
  padding: 0;
}

body,
html,
#root {
  background-color: #020617 !important; /* slate-950: gana sobre Bootstrap y cualquier otro */
  color: #e2e8f0 !important; /* slate-200 */
}

/* Tema claro: solo cuando el usuario lo elige explícitamente */
[data-theme="light"] body,
[data-theme="light"] html,
[data-theme="light"] #root {
  background-color: var(--app-bg) !important;
  color: var(--app-text-body) !important;
}

/* Dashboard/app: forzar oscuro en todo el contenido (anula Bootstrap y componentes claros) */
.main-layout-main-container.bg-slate-950,
.main-layout-main-container .content-container.bg-gradient-to-br,
.content-area-app {
  background-color: #020617 !important;
  color: #e2e8f0 !important;
}

.content-area-app {
  input, select, textarea {
    background-color: #0f172a !important; /* slate-900 */
    color: #e2e8f0 !important;
    border-color: #334155 !important;
  }
  input::placeholder, textarea::placeholder {
    color: #94a3b8;
  }
  /* Anular cards/tarjetas Bootstrap o con fondo claro */
  .card, [class*="card"], .table, table {
    background-color: #0f172a !important;
    color: #e2e8f0 !important;
    border-color: #1e293b !important;
  }
  thead th {
    background-color: #1e293b !important;
    color: #cbd5e1 !important;
    border-color: #334155 !important;
  }
  tbody td {
    background-color: #0f172a !important;
    color: #e2e8f0 !important;
    border-color: #1e293b !important;
  }
}

[data-theme="light"] .content-area-app {
  input, select, textarea {
    background-color: var(--app-bg-card) !important;
    color: var(--app-text-heading) !important;
    border-color: var(--app-border) !important;
  }
  .card, [class*="card"], .table, table {
    background-color: var(--app-bg-card) !important;
    color: var(--app-text-heading) !important;
    border-color: var(--app-border) !important;
  }
  thead th, tbody td {
    background-color: inherit !important;
    color: inherit !important;
    border-color: inherit !important;
  }
}

/* App nativa móvil: viewport dinámico (100dvh), safe areas, gestos táctiles */
/* Chrome Mac: suavizado de fuentes para que Poppins se vea nítido */
html {
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

html,
#root {
  height: 100%;
  min-height: 100dvh;
  overflow-x: hidden;
  overflow-y: hidden;
}

body {
  min-height: 100dvh;
  overflow: hidden;
  /* Safe areas: notch e indicador de inicio (iPhone X+, Android con gestos) */
  padding-top: env(safe-area-inset-top, 0);
  padding-right: env(safe-area-inset-right, 0);
  padding-bottom: env(safe-area-inset-bottom, 0);
  padding-left: env(safe-area-inset-left, 0);
}

/* Scroll suave tipo app en iOS/Android */
body {
  height: 100%;
  -webkit-overflow-scrolling: touch;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overscroll-behavior-y: none;
}

/* Respuesta táctil rápida (sin delay 300ms), sin zoom en doble toque en controles */
button,
a,
input,
select,
textarea,
[role="button"] {
  touch-action: manipulation;
}

/* Focus visible para accesibilidad (teclado) */
button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[role="button"]:focus-visible {
  outline: 2px solid var(--app-accent);
  outline-offset: 2px;
}

a {
  text-decoration: none;
  cursor: pointer;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  margin: 0;
  color: var(--app-text-heading);
  font-weight: var(--app-font-weight-heading);
  font-family: "Poppins", sans-serif;
}
h1 { font-size: var(--app-font-size-h1); font-weight: var(--app-font-weight-heading-strong); }
h2 { font-size: var(--app-font-size-h2); }
h3 { font-size: var(--app-font-size-h3); }
h4 { font-size: var(--app-font-size-h4); }

/* Móvil/tablet: 62.5% = 1rem 10px para espaciado compacto */
html {
  font-size: 62.5%;
}

/* Escritorio (1024px+): base 16px, botones compactos, experiencia PC */
@media (min-width: 1024px) {
  html {
    font-size: 100%;
  }
  :root,
  [data-theme="light"],
  [data-theme="dark"] {
    --app-font-size-body: 1rem;
    --app-font-size-body-lg: 1.125rem;
    --app-font-size-h4: 1.125rem;
    --app-font-size-h3: 1.25rem;
    --app-font-size-h2: 1.5rem;
    --app-font-size-h1: 2rem;
  }
  /* Botones e inputs más compactos en PC (no 48px de móvil) */
  button:not(.icon-only),
  .btn,
  .main-layout-main-container input[type="text"],
  .main-layout-main-container input[type="email"],
  .main-layout-main-container input[type="password"],
  .main-layout-main-container input[type="number"],
  .main-layout-main-container select {
    min-height: 40px;
  }
}

/* Toda la app: mismo estilo y tamaño que Home, legibilidad mínima en toda la web */
/* text-rendering: auto evita blur en Chrome Mac; optimizeLegibility se aplica solo en no-Chrome */
body {
  font-family: "Poppins", sans-serif;
  background: var(--app-bg);
  background-color: var(--app-bg);
  color: var(--app-text-body);
  font-size: var(--app-font-size-body);
  font-weight: var(--app-font-weight-body);
  line-height: 1.4;
  transition: background 0.2s ease, background-color 0.2s ease, color 0.2s ease;
  text-rendering: auto;
}

/* Chrome en Mac: fuentes más nítidas y capa GPU para evitar parpadeos */
.chrome-mac {
  -webkit-font-smoothing: subpixel-antialiased;
  -moz-osx-font-smoothing: auto;
}

.chrome-mac body {
  -webkit-font-smoothing: subpixel-antialiased;
  -moz-osx-font-smoothing: auto;
  text-rendering: auto;
}

.chrome-mac[data-theme="dark"] body,
.chrome-mac.dark body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Ningún texto por debajo de 1rem para que siempre se pueda leer */
label,
p,
a,
b,
ul,
li,
div,
span {
  font-size: inherit;
  color: inherit;
  font-weight: inherit;
  line-height: inherit;
}

body label,
body p,
body .modal-container .content,
body .modal-container .bottom .content {
  font-size: var(--app-font-size-body);
}

button,
.btn,
form,
input,
select,
textarea {
  font-size: var(--app-font-size-body);
}

/* Área táctil mínima 44px en controles principales (UX móvil) */
button:not(.icon-only),
.btn,
.main-layout-main-container input[type="text"],
.main-layout-main-container input[type="email"],
.main-layout-main-container input[type="password"],
.main-layout-main-container input[type="number"],
.main-layout-main-container select {
  min-height: 44px;
}

button {
  border: none;
}

button.primary-pill {
  border-radius: 10px;
  font-weight: var(--app-font-weight-heading);
  font-size: var(--app-font-size-body);
  padding: 10px;
  background: var(--app-btn-bg);
  color: var(--app-btn-text);

  &:hover {
    color: var(--app-btn-text);
    background: var(--app-accent-bright);
    box-shadow: var(--app-shadow);
  }
}

/* Loader global: centrado vertical y horizontal */
.global-loader {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 200px;
}

.linear-bg {
  background: linear-gradient(11deg, var(--app-accent-bright), var(--theme-accent-bright));
}

/* Botón CTA secundario (ej. NotFound): área táctil 44px, hover y transición */
.btn-back-home {
  transition: background 0.2s ease, color 0.2s ease, transform 0.15s ease, box-shadow 0.2s ease;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  &:hover {
    background: var(--app-accent-bright) !important;
    color: var(--app-btn-text) !important;
    transform: translateY(-1px);
    box-shadow: var(--app-shadow-card);
  }
  &:active {
    transform: translateY(0);
  }
}

.silver-bg {
  background: var(--theme-bg-primary);
}
.paypal-buttons {
  .buttons-container{
    .paypal-button-container{
      .paypal-button-tagline{
        .paypal-button-text{
          color: white;
        }
      }
    }
  }
}
/* Fallback global: errores en flujo, sin posición absoluta (evita solapamientos) */
.error-formik {
  color: var(--ph-pain-bad);
  font-weight: var(--app-font-weight-heading);
  font-size: var(--app-font-size-body);
  display: block;
  margin-top: 6px;
  line-height: 1.4;
}
.search-input{
  display: flex;
  position: relative;
  background-color: var(--app-bg-card);
  width: 100%;
  max-width: 350px;
  padding-block: 10px;
  padding-inline: 15px;
  border-radius: 12px;
  border: 2px solid var(--app-border);
  box-shadow: var(--app-shadow);
  transition: border-color 0.2s, box-shadow 0.2s;
  &:focus-within {
    border-color: var(--app-accent);
    box-shadow: 0 0 0 2px rgba(6, 182, 212, 0.4);
  }
  input{
    background: transparent;
    border: none;
    outline: none;
    font-size: var(--app-font-size-body);
    font-weight: var(--app-font-weight-heading);
    width: 100%;
    color: var(--app-text-heading);
  }
  svg{
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: 10px;
    color: var(--app-accent);
    pointer-events: none;
  }
}
.select-input{
  width: 100%;
  min-width: 0;
  max-width: 200px;
  select{
    width: 100%;
    background-color: var(--app-bg-card);
    color: var(--app-text-heading);
    padding-block: 10px;
    padding-inline: 15px;
    border-radius: 12px;
    border: 2px solid var(--app-border);
    font-size: var(--app-font-size-body);
    font-weight: var(--app-font-weight-heading);
    outline: none;
    transition: border-color 0.2s, box-shadow 0.2s;
    &:focus {
      border-color: var(--app-accent);
      box-shadow: 0 0 0 2px rgba(6, 182, 212, 0.4);
    }
  }
}

/* Dashboard: evitar gigantismo en desktop — inputs y botones con ancho controlado */
@media (min-width: 768px) {
  .content-area-app input[type="text"],
  .content-area-app input[type="email"],
  .content-area-app input[type="password"],
  .content-area-app input[type="number"],
  .content-area-app input[type="search"] {
    max-width: 24rem; /* 384px / w-96 */
  }
  .content-area-app button:not(.icon-only):not(.fb-btn-download-icon):not(.fb-btn-play):not(.btn-cell):not(.admin-list-row__menu),
  .content-area-app .btn {
    width: auto;
    min-width: 8rem;
  }
}

/* Cloudflare Turnstile: integrado al diseño oscuro (theme=dark + contenedor) */
.turnstile-widget-wrap {
  background: var(--app-bg-card);
  border: 2px solid var(--app-border);
  border-radius: 12px;
  padding: 10px;
  overflow: hidden;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  min-height: 80px;

  iframe {
    border-radius: 8px;
  }
}

/* Chrome Mac: contenedor principal con capa GPU y contain para render estable */
.chrome-mac .main-layout-main-container {
  transform: translateZ(0);
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  contain: layout style;
}

.chrome-mac .main-layout-main-container .content-container {
  transform: translateZ(0);
  -webkit-overflow-scrolling: touch;
}

/* Chrome Mac: landing (PublicHome) sin scroll horizontal ni recorte */
.chrome-mac .ph {
  width: 100%;
  max-width: 100vw;
  overflow-x: hidden;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}
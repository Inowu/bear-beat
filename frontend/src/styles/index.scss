// Bootstrap Lite: we only need modal/backdrop/close/fade for react-bootstrap <Modal />.
// We load it as plain CSS (src/styles/bootstrap-modal-lite.css) to avoid Sass `@import`
// deprecation warnings and keep the CSS footprint small.

@use "./_mobile-app";
@use "./_public-shell";
@font-face {
  font-family: "Bear Font2";
  src: url("../assets/fonts/Arkhip_font.otf");
}
@font-face {
  font-family: "Bear-font";
  src: url("../assets/fonts/Arkhip_font.ttf");
}

/* ==========================================================================
   Bear Beat Brand System 2026
   Fuente de verdad visual para TODO el frontend (rutas, modales, forms, admin)
   ========================================================================== */
:root,
[data-theme="light"] {
  /* Brand core */
  --bb-cyan: #08E1F7;
  --bb-mint: #00E6C1;
  --color-teal: var(--bb-cyan);
  --color-muted: var(--bb-text-muted);
  --bb-gradient: linear-gradient(11deg, var(--bb-mint), var(--bb-cyan));
  /* Light theme needs an “ink” accent for text/lines (neon cyan is too low-contrast on white). */
  --bb-accent-ink: #007C89;
  /* Ambient accents (for large surfaces; avoid "baby blue" washes) */
  --bb-ambient-cyan: rgba(8, 225, 247, 0.014);
  --bb-ambient-mint: rgba(0, 230, 193, 0.011);
  /* Landing (public) background spots: tuned per theme to keep LIGHT premium (no wash)
     while DARK keeps the neon glow. Used by /, /planes, /legal. */
  /* LIGHT: these spots must be barely-there; too much reads like a bad color-invert layer. */
  --bb-landing-spot-1: rgba(8, 225, 247, 0.02);
  --bb-landing-spot-2: rgba(8, 225, 247, 0.014);
  --bb-danger: #FF2D2C;
  --bb-success: #39D834;
  --bb-warning: #FEBC2E;

  /* Brand neutrals */
  --bb-dark-100: #404040;
  --bb-dark-200: #2A2A2A;
  --bb-dark-300: #292929;
  --bb-dark-400: #1A1A1A;
  /* Light base: bright + crisp hierarchy (avoid “dark theme turned white”). */
  /* App/LP background (LIGHT): slightly deeper so white surfaces don't "blend" on mobile. */
  --bb-bg: #D6E4EF;
  --bb-surface: #FFFFFF;
  --bb-surface-soft: #ECF3F9;
  --bb-border: rgba(15, 23, 42, 0.12);
  --bb-text-heading: #0B1220;
  --bb-text-body: #1F2A3A;
  --bb-text-muted: #556274;
  --bb-focus-ring: rgba(0, 124, 137, 0.22);
  /* Shadows: lighter in LIGHT; rely more on border + subtle depth. */
  --bb-shadow: 0 12px 28px rgba(15, 23, 42, 0.09);
  --bb-shadow-card: 0 22px 56px rgba(15, 23, 42, 0.11);
  /* Light glow: keep it VERY subtle to avoid a "neon haze" look on white surfaces. */
  --bb-shadow-glow: 0 0 10px rgba(8, 225, 247, 0.08);
  --bb-shadow-1: var(--bb-shadow);
  --bb-shadow-2: var(--bb-shadow-card);
  /* Spacing scale (theme-agnostic) */
  --bb-space-1: 4px;
  --bb-space-2: 8px;
  --bb-space-3: 12px;
  --bb-space-4: 16px;
  --bb-space-5: 20px;
  --bb-space-6: 24px;
  --bb-space-7: 32px;
  --bb-space-8: 40px;
  /* Radius scale */
  --bb-radius-sm: 10px;
  --bb-radius-md: 12px;
  --bb-radius-lg: 16px;
  --bb-radius-xl: 20px;
  --bb-radius-card: 12px;
  --bb-radius-pill: 999px;
  --bb-font-ui: "Manrope", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --bb-font-brand: "Bear-font", "Manrope", sans-serif;
  --bb-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --bb-font-weight-medium: 500;
  --bb-font-weight-semibold: 600;
  --bb-font-weight-bold: 700;
  --bb-font-weight-display: 800;
  --bb-letter-spacing-heading: -0.01em;
  --bb-letter-spacing-body: 0;
  --bb-line-height-heading: 1.14;
  --bb-line-height-body: 1.58;
  --app-font-weight-body: 400;
  --app-font-weight-heading: var(--bb-font-weight-bold);
  --app-font-weight-heading-strong: var(--bb-font-weight-display);
  --app-font-size-body: 1.5rem;
  --app-font-size-body-lg: 1.6rem;
  --app-font-size-h4: 1.7rem;
  --app-font-size-h3: 1.95rem;
  --app-font-size-h2: 2.4rem;
  --app-font-size-h1: 3rem;
  --app-font-size-label: 1.3rem;
  --app-font-size-caption: 1.2rem;
  --app-font-size-button: 1.45rem;

  /* Base Tailwind bridge */
  --bg-main: var(--bb-bg);
  --bg-card: var(--bb-surface);
  --bg-input: var(--bb-surface-soft);
  --text-main: var(--bb-text-heading);
  --text-muted: var(--bb-text-muted);
  --border-main: var(--bb-border);

  /* Legacy semantic bridge (existing app vars) */
  --theme-bg-primary: var(--bb-bg);
  --theme-bg-primary-end: var(--bb-surface);
  --theme-bg-secondary: var(--bb-surface);
  --theme-bg-gradient: linear-gradient(165deg, var(--bb-surface) 0%, var(--bb-bg) 100%);
  /* Light nav (premium/glass, no "baby blue") */
  --theme-nav-bg: color-mix(in srgb, #ffffff 88%, var(--bb-bg));
  --theme-nav-border-bottom: color-mix(in srgb, var(--bb-border) 92%, transparent);
  --theme-nav-shadow: 0 10px 26px rgba(15, 23, 42, 0.06);
  --theme-nav-text: var(--bb-text-heading);
  /* Neutral light pills (avoid blue-ish nav wash) */
  --theme-nav-item-bg: color-mix(in srgb, #ffffff 78%, var(--bb-bg));
  --theme-nav-item-border: color-mix(in srgb, var(--bb-border) 96%, transparent);
  --theme-nav-danger-text: #BA1716;
  /* Light hover: subtle tint, avoid "baby blue" panels */
  --theme-nav-item-hover-bg: color-mix(in srgb, var(--bb-cyan) 6%, #FFFFFF);
  --theme-nav-item-hover-text: #0F2028;
  --theme-nav-item-shadow: 0 6px 16px rgba(15, 23, 42, 0.05);
  --theme-card-bg: var(--bb-surface);
  --theme-card-border: var(--bb-border);
  --theme-card-border-strong: color-mix(in srgb, var(--bb-accent-ink) 28%, transparent);
  --theme-card-shadow: var(--bb-shadow);
  --theme-card-shadow-hover: var(--bb-shadow-card);
  --theme-card-accent-line: linear-gradient(180deg, var(--bb-cyan) 0%, var(--bb-mint) 100%);
  --theme-input-bg: var(--bb-surface);
  --theme-input-border: var(--bb-border);
  --theme-input-text: var(--bb-text-heading);
  --theme-input-focus-ring: var(--bb-focus-ring);
  --theme-text-primary: var(--bb-text-heading);
  --theme-text-secondary: var(--bb-text-body);
  --theme-text-muted: var(--bb-text-muted);
  --theme-ink: var(--bb-text-heading);
  --theme-heading: var(--bb-text-heading);
  --theme-strong: var(--bb-text-heading);
  --theme-bg-muted: color-mix(in srgb, #ffffff 66%, var(--bb-bg));
  --theme-bg-soft: var(--bb-surface-soft);
  --theme-stripe: rgba(0, 0, 0, 0.05);
  --theme-edge: color-mix(in srgb, var(--bb-border) 90%, transparent);
  --theme-accent: var(--bb-accent-ink);
  --theme-accent-bright: var(--bb-cyan);
  --theme-accent-dim: var(--bb-accent-ink);
  --theme-accent-glow: rgba(8, 225, 247, 0.08);
  /* Soft accent surfaces in LIGHT should be subtle (avoid "baby blue" wash) */
  --theme-accent-soft-bg: rgba(8, 225, 247, 0.04);
  --theme-accent-soft-bg-2: rgba(8, 225, 247, 0.06);
  --theme-accent-soft-bg-3: rgba(8, 225, 247, 0.085);
  --theme-landing-bg: #000000;
  --theme-landing-text: #FFFFFF;

  --ph-bg: var(--bb-bg);
  --ph-bg-soft: var(--bb-surface-soft);
  --ph-bg-card: var(--bb-surface);
  --ph-border: var(--bb-border);
  --ph-text-heading: var(--bb-text-heading);
  --ph-text-body: var(--bb-text-body);
  --ph-text-muted: var(--bb-text-muted);
  --ph-body-font-weight: 400;
  --ph-btn-bg: var(--bb-gradient);
  --ph-btn-text: #0A0A0A;
  --ph-btn-hover-bg: var(--bb-cyan);
  --ph-accent: var(--bb-accent-ink);
  --ph-accent-bright: var(--bb-cyan);
  --ph-shadow: var(--bb-shadow);
  --ph-shadow-card: var(--bb-shadow-card);
  /* Public glow tokens power hero/pricing shadows; in LIGHT they must be restrained. */
  --ph-glow: rgba(8, 225, 247, 0.08);
  --ph-glow-strong: rgba(8, 225, 247, 0.12);
  --ph-nav-bg: color-mix(in srgb, #ffffff 84%, var(--bb-bg));
  --ph-footer-bg: var(--bb-surface);
  --ph-pain-bad: var(--bb-danger);
  --ph-pain-good: var(--bb-success);
  --ph-price-header-global-bg: var(--bb-dark-300);
  --ph-price-header-global-text: #FFFFFF;
  --ph-price-header-mexico-bg: var(--bb-cyan);
  --ph-price-header-mexico-text: #000000;

  --app-bg: var(--bb-bg);
  --app-bg-soft: var(--bb-surface-soft);
  --app-bg-card: var(--bb-surface);
  --app-text-heading: var(--bb-text-heading);
  --app-text-body: var(--bb-text-body);
  --app-text-secondary: var(--bb-text-body);
  --app-text-muted: var(--bb-text-muted);
  --app-border: var(--bb-border);
  --app-accent: var(--bb-accent-ink);
  --app-accent-bright: var(--bb-cyan);
  --app-btn-bg: var(--bb-gradient);
  --app-btn-text: #0A0A0A;
  --app-shadow: var(--bb-shadow);
  --app-shadow-card: var(--bb-shadow-card);
  --app-focus-ring: var(--bb-focus-ring);
  --app-font-weight-body: var(--bb-font-weight-medium);
  --app-status-error: var(--bb-danger);
  --app-status-success: var(--bb-success);
  --app-status-warning: var(--bb-warning);
  --app-gradient: var(--bb-gradient);

  --auth-input-border: var(--bb-border);
  /* Auth: en light, inputs con relleno suave (neutral) para separar del panel blanco sin verse "sucio". */
  --auth-input-bg: color-mix(in srgb, #ffffff 48%, var(--bb-bg));
  --auth-register-panel-bg: var(--bb-surface);
  --auth-register-text: var(--bb-text-heading);
  --auth-register-input-bg: color-mix(in srgb, #ffffff 48%, var(--bb-bg));
  --auth-register-input-border: var(--bb-border);
  --auth-register-input-focus: var(--bb-accent-ink);
  --auth-register-icon: #5D697B;
  --auth-register-icon-focus: var(--bb-accent-ink);
  --auth-register-btn-bg: var(--bb-gradient);
  --auth-register-btn-text: #0A0A0A;
  --auth-login-atmosphere-bg: var(--bb-bg);
  --auth-login-card-bg: var(--bb-surface);
  --auth-login-card-border: var(--bb-border);
  --auth-login-card-shadow: var(--bb-shadow-card);
  --auth-login-title: var(--bb-text-heading);
  --auth-login-subtitle: var(--bb-text-muted);
  --auth-login-link: var(--bb-accent-ink);
  --auth-login-link-hover: var(--bb-accent-ink);
  --auth-login-btn-bg: var(--bb-gradient);
  --auth-login-btn-text: #0A0A0A;

  --plan-card-bg: var(--bb-surface);
  --plan-card-border: var(--bb-border);
  --plan-card-border-hover: rgba(8, 225, 247, 0.28);
  --plan-card-title: var(--bb-text-heading);
  --plan-card-price: var(--bb-text-heading);
  --plan-card-price-currency: var(--bb-text-muted);
  --plan-card-gb-bg: var(--bb-surface-soft);
  --plan-card-gb-value: var(--bb-accent-ink);
  --plan-card-gb-label: var(--bb-text-muted);
  --plan-card-subtitle: var(--bb-text-muted);
  --plan-card-benefit: var(--bb-text-body);
  --plan-card-check: var(--bb-success);
  --plan-card-paypal-text: var(--bb-text-muted);
  --plan-card-btn-bg: var(--bb-gradient);
  --plan-card-btn-text: #0A0A0A;
  /* Plan cards: LIGHT should feel crisp, not like dark-mode neon pasted on white. */
  --plan-card-btn-glow: rgba(8, 225, 247, 0.1);
  --plan-card-glow-bg: rgba(8, 225, 247, 0.02);
  --plan-card-shadow: var(--bb-shadow);
  --plan-card-shadow-hover: var(--bb-shadow-card);
  --plan-card-secondary-bg: var(--bb-surface-soft);
  --plan-card-secondary-border: var(--bb-border);
  --plan-card-secondary-text: var(--bb-text-body);
  --plan-card-monolith-bg: var(--bb-surface);
  --plan-card-monolith-border: var(--bb-border);
  --plan-card-monolith-shadow-hover: var(--bb-shadow-glow);
  --plan-card-data-visualizer-bg: var(--bb-surface-soft);
  --plan-card-progress-track-bg: var(--bb-border);
  --plan-card-progress-fill: var(--bb-cyan);
  --plan-card-badge-value-bg: var(--bb-cyan);
  --plan-card-badge-value-text: #0A0A0A;
  --plan-card-btn-hero-bg: var(--bb-gradient);
  --plan-card-btn-hero-glow: rgba(8, 225, 247, 0.14);
  --plan-card-btn-outline-border: var(--bb-accent-ink);
  --plan-card-btn-outline-color: var(--bb-accent-ink);
  --plan-card-benefit-icon: var(--bb-accent-ink);

  --aside-backdrop-bg: rgba(13, 21, 27, 0.28);
  --aside-overlay-bg: color-mix(in srgb, var(--bb-surface) 88%, var(--bb-bg));
  --aside-overlay-border: rgba(21, 42, 53, 0.12);
  --aside-overlay-text: #15202B;
  --aside-overlay-text-muted: #4A5A64;
  --aside-overlay-hover: var(--bb-accent-ink);
  --aside-overlay-close-bg: rgba(8, 225, 247, 0.12);
  --aside-overlay-close-color: #15202B;
  --aside-overlay-close-hover: var(--bb-accent-ink);

  --fb-bg: var(--bb-surface-soft);
  --fb-border: var(--bb-border);
  --fb-row-border: rgba(0, 0, 0, 0.08);
  --fb-row-hover-bg: rgba(15, 23, 42, 0.03);
  --fb-row-hover-border: var(--bb-accent-ink);
  --fb-text: var(--bb-text-heading);
  --fb-text-muted: var(--bb-text-muted);
  --fb-accent: var(--bb-accent-ink);
  --fb-input-bg: var(--bb-surface);
  --fb-input-border: var(--bb-border);
  --fb-input-placeholder: #697381;
  --fb-folder-icon: var(--bb-warning);
  --fb-file-icon: var(--bb-text-muted);

  --ma-bg: var(--bb-bg);
  --ma-card-bg: var(--bb-surface);
  --ma-card-border: var(--bb-border);
  --ma-title: var(--bb-text-heading);
  --ma-accent: var(--bb-accent-ink);
  --ma-text: var(--bb-text-body);
  --ma-text-muted: var(--bb-text-muted);
  --ma-progress-bg: var(--bb-border);
  --ma-progress-fill: var(--bb-cyan);
  --ma-avatar-ring: var(--bb-accent-ink);
  --ma-btn-cancel-bg: rgba(255, 45, 44, 0.12);
  --ma-btn-cancel-text: var(--bb-danger);
  --ma-btn-cancel-border: rgba(255, 45, 44, 0.3);
  --ma-add-card-border: var(--bb-border);
  --ma-add-card-hover: var(--bb-accent-ink);
  --ma-badge-success: var(--bb-success);
  --ma-badge-pending: var(--bb-warning);
  --ma-badge-fail: var(--bb-danger);
  --ma-badge-neutral: var(--bb-text-muted);

  --in-bg: var(--bb-bg);
  --in-hero-gradient: linear-gradient(180deg, #F7FDFF 0%, var(--bb-bg) 100%);
  --in-card-bg: var(--bb-surface);
  --in-card-border: var(--bb-border);
  --in-title: var(--bb-text-heading);
  --in-text: var(--bb-text-body);
  --in-text-muted: var(--bb-text-muted);
  --in-accent: var(--bb-accent-ink);
  --in-stepper-line: var(--bb-border);
  --in-step-circle: var(--bb-accent-ink);
  --in-step-circle-text: #0A0A0A;
  --in-terminal-bg: var(--bb-surface-soft);
  --in-terminal-border: var(--bb-border);

  --ad-bg: var(--bb-bg);
  --ad-card: var(--bb-surface);
  --ad-border: var(--bb-border);
  --ad-text: var(--bb-text-body);
  --ad-text-muted: var(--bb-text-muted);
  --ad-title: var(--bb-text-heading);
  --ad-accent: var(--bb-accent-ink);
  --ad-accent-bg: var(--bb-cyan);
  --ad-input-bg: var(--bb-surface);
  --ad-input-border: var(--bb-border);
  --ad-focus-ring: var(--bb-focus-ring);
  /* Admin: use neutral stripes in LIGHT; keep cyan for borders/CTAs only */
  --ad-row-hover: rgba(15, 23, 42, 0.035);
  /* Admin table rows must be opaque (avoid ambient cyan bleeding through). */
  --ad-row-zebra-bg: #E7EDF4;
  --ad-row-hover-bg: #DCE5EE;
  --ad-header-bg: var(--bb-surface-soft);
  --ad-badge-success-bg: rgba(57, 216, 52, 0.12);
  --ad-badge-success-text: #208A1D;
  --ad-badge-warning-bg: rgba(254, 188, 46, 0.16);
  --ad-badge-warning-text: #8A6300;
  --ad-badge-danger-bg: rgba(255, 45, 44, 0.14);
  --ad-badge-danger-text: #BA1716;
  --ad-badge-neutral-bg: rgba(95, 95, 95, 0.12);
  --ad-badge-neutral-text: var(--bb-text-muted);

  color-scheme: light;
}

[data-theme="dark"],
html.dark,
.dark {
  --bb-accent-ink: var(--bb-cyan);
  --bb-ambient-cyan: rgba(8, 225, 247, 0.16);
  --bb-ambient-mint: rgba(0, 230, 193, 0.12);
  --bb-landing-spot-1: rgba(8, 225, 247, 0.12);
  --bb-landing-spot-2: rgba(8, 225, 247, 0.08);
  --bb-bg: #1A1A1A;
  --bb-surface: #2A2A2A;
  --bb-surface-soft: #323232;
  --bb-border: #404040;
  --bb-text-heading: #F7F7F7;
  --bb-text-body: #E1E1E1;
  --bb-text-muted: #B8B8B8;
  --color-muted: var(--bb-text-muted);
  --bb-shadow: 0 10px 32px rgba(0, 0, 0, 0.38);
  --bb-shadow-card: 0 16px 44px rgba(0, 0, 0, 0.42);
  /* Keep DARK glow strength stable when tweaking LIGHT tokens. */
  --bb-shadow-glow: 0 0 16px rgba(8, 225, 247, 0.26);
  --bb-focus-ring: rgba(8, 225, 247, 0.4);

  --bg-main: var(--bb-bg);
  --bg-card: var(--bb-surface);
  --bg-input: var(--bb-surface-soft);
  --text-main: var(--bb-text-heading);
  --text-muted: var(--bb-text-muted);
  --border-main: var(--bb-border);

  --theme-bg-primary: #121212;
  --theme-bg-primary-end: #1A1A1A;
  --theme-bg-secondary: var(--bb-surface);
  --theme-bg-gradient: linear-gradient(165deg, #121212 0%, #1A1A1A 100%);
  --theme-nav-bg: var(--bb-dark-300);
  --theme-nav-border-bottom: rgba(255, 255, 255, 0.1);
  --theme-nav-shadow: 0 10px 24px rgba(0, 0, 0, 0.36);
  --theme-nav-text: #F1F1F1;
  --theme-nav-item-bg: #3B3B3B;
  --theme-nav-item-border: rgba(255, 255, 255, 0.08);
  --theme-nav-danger-text: #FF8E8E;
  --theme-nav-item-hover-bg: rgba(8, 225, 247, 0.25);
  --theme-nav-item-hover-text: var(--bb-cyan);
  --theme-nav-item-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
  --theme-card-bg: var(--bb-surface);
  --theme-card-border: rgba(255, 255, 255, 0.12);
  --theme-text-primary: var(--bb-text-heading);
  --theme-text-secondary: var(--bb-text-body);
  --theme-text-muted: var(--bb-text-muted);
  --theme-bg-soft: #2D2D2D;
  --theme-edge: rgba(255, 255, 255, 0.12);
  --theme-accent: var(--bb-cyan);
  --theme-accent-bright: var(--bb-cyan);
  --theme-accent-dim: var(--bb-cyan);
  --theme-accent-glow: rgba(8, 225, 247, 0.24);
  --theme-accent-soft-bg: rgba(8, 225, 247, 0.14);
  --theme-accent-soft-bg-2: rgba(8, 225, 247, 0.22);
  --theme-accent-soft-bg-3: rgba(8, 225, 247, 0.3);

  --app-bg: var(--bb-bg);
  --app-bg-soft: var(--bb-surface-soft);
  --app-bg-card: var(--bb-surface);
  --app-text-heading: var(--bb-text-heading);
  --app-text-body: var(--bb-text-body);
  --app-text-secondary: var(--bb-text-body);
  --app-text-muted: var(--bb-text-muted);
  --app-border: var(--bb-border);
  --app-accent: var(--bb-cyan);
  --app-accent-bright: var(--bb-cyan);
  --app-btn-bg: var(--bb-gradient);
  --app-btn-text: #0A0A0A;
  --app-shadow: var(--bb-shadow);
  --app-shadow-card: var(--bb-shadow-card);
  --app-focus-ring: var(--bb-focus-ring);

  --ph-bg: var(--bb-bg);
  --ph-bg-soft: #232323;
  --ph-bg-card: var(--bb-surface);
  --ph-border: var(--bb-border);
  --ph-text-heading: var(--bb-text-heading);
  --ph-text-body: var(--bb-text-body);
  --ph-text-muted: var(--bb-text-muted);
  --ph-nav-bg: rgba(41, 41, 41, 0.96);
  --ph-footer-bg: #242424;
  --ph-body-font-weight: 500;
  --ph-glow: rgba(8, 225, 247, 0.24);
  --ph-glow-strong: rgba(8, 225, 247, 0.34);

  --auth-input-bg: var(--bb-surface-soft);
  --auth-input-border: var(--bb-border);
  --auth-register-panel-bg: var(--bb-bg);
  --auth-register-text: var(--bb-text-heading);
  --auth-register-input-bg: var(--bb-surface-soft);
  --auth-register-input-border: var(--bb-border);
  --auth-register-btn-bg: var(--bb-gradient);
  --auth-register-btn-text: #0A0A0A;
  --auth-login-atmosphere-bg: var(--bb-bg);
  --auth-login-card-bg: var(--bb-surface);
  --auth-login-card-border: var(--bb-border);
  --auth-login-title: var(--bb-text-heading);
  --auth-login-subtitle: var(--bb-text-muted);
  --auth-login-btn-bg: var(--bb-gradient);
  --auth-login-btn-text: #0A0A0A;

  --plan-card-bg: var(--bb-surface);
  --plan-card-border: var(--bb-border);
  --plan-card-title: var(--bb-text-heading);
  --plan-card-price: var(--bb-text-heading);
  --plan-card-price-currency: var(--bb-text-muted);
  --plan-card-gb-bg: #333333;
  --plan-card-gb-value: var(--bb-cyan);
  --plan-card-gb-label: var(--bb-text-muted);
  --plan-card-subtitle: var(--bb-text-muted);
  --plan-card-benefit: var(--bb-text-body);
  --plan-card-check: var(--bb-cyan);
  --plan-card-paypal-text: var(--bb-text-muted);
  --plan-card-btn-bg: var(--bb-gradient);
  --plan-card-btn-text: #0A0A0A;
  --plan-card-btn-glow: rgba(8, 225, 247, 0.32);
  --plan-card-glow-bg: rgba(8, 225, 247, 0.08);
  --plan-card-progress-track-bg: #3B3B3B;
  --plan-card-progress-fill: var(--bb-cyan);
  --plan-card-badge-value-bg: var(--bb-cyan);
  --plan-card-badge-value-text: #0A0A0A;
  --plan-card-btn-hero-bg: var(--bb-gradient);
  --plan-card-btn-hero-glow: rgba(8, 225, 247, 0.34);
  --plan-card-btn-outline-border: var(--bb-cyan);
  --plan-card-btn-outline-color: var(--bb-cyan);
  --plan-card-benefit-icon: var(--bb-cyan);

  --in-bg: var(--bb-bg);
  --in-hero-gradient: linear-gradient(180deg, #232323 0%, var(--bb-bg) 100%);
  --in-card-bg: var(--bb-surface);
  --in-card-border: var(--bb-border);
  --in-title: var(--bb-text-heading);
  --in-text: var(--bb-text-body);
  --in-text-muted: var(--bb-text-muted);
  --in-stepper-line: var(--bb-border);
  --in-terminal-bg: #303030;
  --in-terminal-border: var(--bb-border);

  --ma-bg: var(--bb-bg);
  --ma-card-bg: var(--bb-surface);
  --ma-card-border: var(--bb-border);
  --ma-title: var(--bb-text-heading);
  --ma-accent: var(--bb-cyan);
  --ma-text: var(--bb-text-body);
  --ma-text-muted: var(--bb-text-muted);
  --ma-progress-bg: #3A3A3A;
  --ma-progress-fill: var(--bb-cyan);
  --ma-avatar-ring: var(--bb-cyan);
  --ma-add-card-border: var(--bb-border);
  --ma-add-card-hover: var(--bb-cyan);
  --ma-badge-neutral: var(--bb-text-muted);

  --ad-bg: var(--bb-bg);
  --ad-card: var(--bb-surface);
  --ad-border: var(--bb-border);
  --ad-text: var(--bb-text-body);
  --ad-text-muted: var(--bb-text-muted);
  --ad-title: var(--bb-text-heading);
  --ad-accent: var(--bb-cyan);
  --ad-accent-bg: var(--bb-cyan);
  --ad-input-bg: var(--bb-surface-soft);
  --ad-input-border: var(--bb-border);
  --ad-header-bg: #333333;
  /* Admin: in DARK, keep zebra/hover neutral (premium); reserve cyan for accents/CTAs */
  --ad-row-hover: rgba(255, 255, 255, 0.045);
  --ad-row-zebra-bg: #2E2E2E;
  --ad-row-hover-bg: #353535;

  --fb-bg: var(--bb-bg);
  --fb-border: var(--bb-border);
  --fb-row-hover-bg: rgba(8, 225, 247, 0.12);
  --fb-row-hover-border: var(--bb-cyan);
  --fb-text: var(--bb-text-heading);
  --fb-text-muted: var(--bb-text-muted);
  --fb-accent: var(--bb-cyan);
  --fb-input-bg: var(--bb-surface-soft);
  --fb-input-border: var(--bb-border);

  --aside-backdrop-bg: rgba(0, 0, 0, 0.45);
  --aside-overlay-bg: rgba(41, 41, 41, 0.98);
  --aside-overlay-border: rgba(255, 255, 255, 0.08);
  --aside-overlay-text: #EDEDED;
  --aside-overlay-text-muted: #BFBFBF;
  --aside-overlay-hover: var(--bb-cyan);
  --aside-overlay-close-bg: rgba(255, 255, 255, 0.06);
  --aside-overlay-close-color: #EDEDED;
  --aside-overlay-close-hover: var(--bb-cyan);

  color-scheme: dark;
}
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html,
#root,
body {
  min-height: 100vh;
  margin: 0;
  padding: 0;
}

/* Dashboard/app: guardrails (NO overrides agresivos).
   Importante: antes habia `!important` aquí y pisaba estilos específicos de Home/Admin/etc.
   Solo aseguramos targets mínimos + tipografía; cada componente conserva su look. */
.content-area-app {
  :where(input, select, textarea) {
    min-height: 44px;
    font-size: var(--app-font-size-body);
  }

  :where(button, .btn):not(.btn-cell):not(.dropdown-content button) {
    min-height: 44px;
    font-size: var(--app-font-size-body);
  }
}

/* Shell base para rutas app/admin (no públicas). */
.bb-app-page {
  width: 100%;
  min-width: 0;
  min-height: calc(100vh - 88px);
  color: var(--app-text-body);
  font-family: var(--bb-font-ui);
}

@media (max-width: 1024px) {
  .bb-app-page {
    min-height: auto;
  }
}

/* Web estándar: scroll en ventana del navegador (no en div interno) */
/* Chrome Mac: suavizado de fuentes para que Poppins se vea nítido */
html {
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

html,
#root {
  min-height: 100vh;
  min-height: 100dvh;
  overflow-x: hidden;
  /* overflow-y por defecto (auto): el documento crece y hace scroll en la ventana */
}

body {
  min-height: 100vh;
  min-height: 100dvh;
  /* Safe areas: notch e indicador de inicio (iPhone X+, Android con gestos) */
  padding-top: env(safe-area-inset-top, 0);
  padding-right: env(safe-area-inset-right, 0);
  padding-bottom: env(safe-area-inset-bottom, 0);
  padding-left: env(safe-area-inset-left, 0);
}

body {
  -webkit-overflow-scrolling: touch;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Respuesta táctil rápida (sin delay 300ms), sin zoom en doble toque en controles */
button,
a,
input,
select,
textarea,
[role="button"] {
  touch-action: manipulation;
}

/* Focus visible global para accesibilidad (teclado) */
*:focus-visible {
  outline: 2px solid var(--color-teal);
  outline-offset: 2px;
}

/* Scroll regions (overflow-x/y) need to be keyboard-focusable to allow arrow-key scroll. */
[data-scroll-region]:focus-visible {
  outline: 2px solid var(--color-teal);
  outline-offset: 2px;
  border-radius: 12px;
}

a {
  text-decoration: none;
  cursor: pointer;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  margin: 0;
  color: var(--app-text-heading);
  font-weight: var(--app-font-weight-heading);
  font-family: var(--bb-font-ui);
  line-height: var(--bb-line-height-heading);
  letter-spacing: var(--bb-letter-spacing-heading);
  text-wrap: balance;
}
h1 { font-size: var(--app-font-size-h1); font-weight: var(--app-font-weight-heading-strong); }
h2 { font-size: var(--app-font-size-h2); }
h3 { font-size: var(--app-font-size-h3); }
h4 { font-size: var(--app-font-size-h4); }
h5 { font-size: 1.55rem; }
h6 { font-size: 1.4rem; }

/* Móvil/tablet: 62.5% = 1rem 10px para espaciado compacto */
html {
  font-size: 62.5%;
}

/* Nota: mantenemos `1rem = 10px` en TODAS las resoluciones.
   Muchas reglas históricas del proyecto usan `rem` bajo esta convención; cambiarlo por breakpoint
   rompe consistencia de tamaños entre rutas y componentes. */

/* Toda la app: tipografía y tamaño; fondo/texto los controla Tailwind (index.css) con bg-bg-main text-text-main */
body {
  font-family: var(--bb-font-ui);
  font-size: var(--app-font-size-body);
  font-weight: var(--app-font-weight-body);
  line-height: var(--bb-line-height-body);
  letter-spacing: var(--bb-letter-spacing-body);
  text-rendering: optimizeLegibility;
  background: var(--app-bg);
  color: var(--app-text-body);
}

/* Light: add subtle brand atmosphere without washing the UI.
   Keep `--app-bg` as a solid token (used by color-mix), so we override only `body` background. */
html[data-theme="light"] body {
  /* Keep a solid background-color for iOS overscroll + translucent layers. */
  background-color: var(--app-bg);
  background-image:
    radial-gradient(
      940px 560px at 8% -8%,
      color-mix(in srgb, var(--bb-landing-spot-1) 78%, transparent),
      transparent 64%
    ),
    radial-gradient(
      900px 540px at 92% 8%,
      color-mix(in srgb, var(--bb-landing-spot-2) 80%, transparent),
      transparent 64%
    ),
    linear-gradient(180deg, #F5F9FC 0%, var(--app-bg) 34%, var(--app-bg) 100%);
}

/* App (MainLayout) in LIGHT: add a soft atmosphere so surfaces don't feel like stacked white sheets. */
html[data-theme="light"] .main-layout-main-container {
  background-color: var(--app-bg);
  background-image:
    radial-gradient(820px 420px at 6% -6%, color-mix(in srgb, var(--bb-cyan) 2.2%, transparent), transparent 62%),
    radial-gradient(820px 460px at 94% 0%, color-mix(in srgb, var(--bb-mint) 1.9%, transparent), transparent 64%),
    linear-gradient(180deg, #F7FAFD 0%, var(--app-bg) 36%, var(--app-bg) 100%);
}

html[data-theme="light"] .content-container {
  background: transparent;
}

/* Chrome en Mac: fuentes más nítidas y capa GPU para evitar parpadeos */
.chrome-mac {
  -webkit-font-smoothing: subpixel-antialiased;
  -moz-osx-font-smoothing: auto;
}

.chrome-mac body {
  -webkit-font-smoothing: subpixel-antialiased;
  -moz-osx-font-smoothing: auto;
  text-rendering: auto;
}

.chrome-mac[data-theme="dark"] body,
.chrome-mac.dark body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Resets mínimos (sin romper semántica) */
a {
  color: inherit;
}

strong,
b {
  font-weight: 700;
}

p,
li,
label,
small,
input,
select,
textarea,
button {
  letter-spacing: var(--bb-letter-spacing-body);
}

button,
.btn,
form,
input,
select,
textarea {
  font-size: var(--app-font-size-body);
  font-family: var(--bb-font-ui);
}

:where(input:not([type="checkbox"]):not([type="radio"]), select, textarea) {
  border: 1px solid var(--app-border);
  border-radius: var(--bb-radius-card);
  background: var(--app-bg-card);
  color: var(--app-text-heading);
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;

  &::placeholder {
    color: var(--app-text-muted);
    opacity: 0.9;
  }

  &:focus {
    outline: none;
    border-color: var(--app-accent);
    box-shadow: 0 0 0 3px var(--app-focus-ring);
  }
}

html[data-theme="light"] :where(input:not([type="checkbox"]):not([type="radio"]), select, textarea) {
  background: color-mix(in srgb, var(--app-bg-card) 72%, var(--app-bg-soft));
  border-color: color-mix(in srgb, var(--app-border) 96%, transparent);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.35);
}

/* Bootstrap form class bridge:
   We keep these legacy class names in a few modals, without shipping the full Bootstrap forms CSS. */
.form-control,
.form-select {
  padding: 12px 16px;
  font-family: var(--bb-font-ui);
  font-size: var(--app-font-size-body);
  line-height: 1.4;
}

/* iOS/Safari: `type="search"` trae un botón nativo (x) que rompe layouts con clear custom */
input[type="search"] {
  -webkit-appearance: none;
}

input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-results-button,
input[type="search"]::-webkit-search-results-decoration {
  display: none;
}

button,
.btn {
  border-radius: var(--bb-radius-pill);
  font-weight: var(--app-font-weight-heading);
  transition: transform 0.16s ease, box-shadow 0.2s ease, opacity 0.2s ease, background 0.2s ease, color 0.2s ease;
}

/* IMPORTANT:
   No aplicamos "lift" global a TODOS los <button>.
   Muchos botones (clear X en inputs, toggle de password, iconos en toolbars) usan `transform`
   para centrarse verticalmente; un hover global rompe su layout. */
.btn:hover {
  transform: translateY(-1px);
}

.btn:active {
  transform: translateY(0);
}

/* Touch targets móvil */
@media (max-width: 768px) {
  button,
  a,
  [role="button"],
  input,
  select {
    min-height: 44px;
    min-width: 44px;
  }
}

button {
  border: none;
}

button.primary-pill {
  border-radius: var(--bb-radius-card);
  font-weight: var(--app-font-weight-heading);
  font-size: var(--app-font-size-body);
  padding: 10px;
  background: var(--app-gradient);
  color: var(--app-btn-text);

  &:hover {
    color: var(--app-btn-text);
    background: var(--app-accent-bright);
    box-shadow: var(--app-shadow);
  }
}

/* Loader global: centrado vertical y horizontal */
.global-loader {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 200px;
}

/* Estado transversal (loading / empty / error) para vistas de app */
.app-state-panel {
  width: min(620px, 100%);
  min-height: 220px;
  margin: 0 auto;
  padding: clamp(18px, 2.2vw, 28px);
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--app-border) 84%, transparent);
  background:
    radial-gradient(
      440px 220px at 100% 0%,
      color-mix(in srgb, var(--app-accent) 10%, transparent),
      transparent 70%
    ),
    color-mix(in srgb, var(--app-bg-card) 98%, transparent);
  box-shadow: var(--app-shadow-card);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 10px;
  text-align: center;
}

[data-theme="light"] .app-state-panel {
  /* Light: sin "wash" de cian en estados (loading/empty/error) */
  background:
    radial-gradient(
      440px 220px at 100% 0%,
      color-mix(in srgb, var(--app-accent) 4%, transparent),
      transparent 72%
    ),
    color-mix(in srgb, var(--app-bg-card) 99%, transparent);
}

.app-state-panel.is-loading {
  border-style: solid;
}

.app-state-panel.is-empty {
  border-style: dashed;
}

.app-state-panel.is-error {
  border-color: color-mix(in srgb, var(--app-status-error) 55%, var(--app-border));
  background:
    radial-gradient(
      440px 220px at 100% 0%,
      color-mix(in srgb, var(--app-status-error) 11%, transparent),
      transparent 70%
    ),
    color-mix(in srgb, var(--app-bg-card) 98%, transparent);
}

.app-state-icon {
  width: 54px;
  height: 54px;
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--app-accent) 34%, transparent);
  background: var(--theme-accent-soft-bg-2);
  color: var(--app-accent);
  display: inline-flex;
  align-items: center;
  justify-content: center;

  svg {
    width: 24px;
    height: 24px;
  }
}

.app-state-panel.is-error .app-state-icon {
  border-color: color-mix(in srgb, var(--app-status-error) 48%, transparent);
  background: color-mix(in srgb, var(--app-status-error) 14%, transparent);
  color: var(--app-status-error);
}

.app-state-title {
  margin: 0;
  color: var(--app-text-heading);
  font-size: clamp(1.45rem, 1.25rem + 0.2vw, 1.75rem);
  font-weight: 800;
  line-height: 1.2;
}

.app-state-copy {
  margin: 0;
  max-width: 46ch;
  color: var(--app-text-muted);
  font-size: clamp(1.05rem, 1rem + 0.14vw, 1.2rem);
  font-weight: 500;
  line-height: 1.45;
}

.app-state-actions {
  margin-top: 4px;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  flex-wrap: wrap;
}

.app-state-actions button,
.app-state-actions a {
  min-height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 0 14px;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--app-border) 84%, transparent);
  background: color-mix(in srgb, var(--app-bg-soft) 84%, transparent);
  color: var(--app-text-heading);
  font-size: 1.05rem;
  font-weight: 700;
  transition: border-color 0.16s ease, background 0.16s ease, color 0.16s ease;
}

.app-state-actions button:hover,
.app-state-actions a:hover {
  border-color: color-mix(in srgb, var(--app-accent) 46%, transparent);
  background: var(--theme-accent-soft-bg);
  color: var(--app-accent);
}

.bb-surface {
  width: 100%;
  min-width: 0;
  border-radius: 18px;
  border: 1px solid color-mix(in srgb, var(--app-border) 84%, transparent);
  position: relative;
  isolation: isolate;
  background: linear-gradient(
    180deg,
    color-mix(in srgb, var(--app-bg-card) 99%, transparent) 0%,
    color-mix(in srgb, var(--app-bg-soft) 96%, transparent) 100%
  );
  box-shadow: var(--app-shadow-card);
  padding: clamp(14px, 1.6vw, 22px);
}

.bb-surface::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  z-index: 0;
  background: radial-gradient(
    980px 360px at 100% -10%,
    color-mix(in srgb, var(--app-accent) 12%, transparent),
    transparent 72%
  );
  opacity: 0;
  transition: opacity 0.2s ease;
}

html[data-theme="dark"] .bb-surface::before,
html.dark .bb-surface::before,
.dark .bb-surface::before {
  opacity: 1;
}

.bb-surface > * {
  position: relative;
  z-index: 1;
}

.linear-bg {
  background: var(--app-gradient);
}

/* Botón CTA secundario (ej. NotFound): área táctil 44px, hover y transición */
.btn-back-home {
  transition: background 0.2s ease, color 0.2s ease, transform 0.15s ease, box-shadow 0.2s ease;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  &:hover {
    background: var(--app-accent-bright) !important;
    color: var(--app-btn-text) !important;
    transform: translateY(-1px);
    box-shadow: var(--app-shadow-card);
  }
  &:active {
    transform: translateY(0);
  }
}

.silver-bg {
  background: var(--theme-bg-primary);
}
.paypal-buttons {
  .buttons-container {
    .paypal-button-container {
      .paypal-button-tagline {
        .paypal-button-text {
          /* PayPal tagline text must stay readable in LIGHT and DARK. */
          color: var(--app-text-heading);
        }
      }
    }
  }
}

html[data-theme="dark"] .paypal-buttons,
html.dark .paypal-buttons,
.dark .paypal-buttons {
  .buttons-container {
    .paypal-button-container {
      .paypal-button-tagline {
        .paypal-button-text {
          color: #ffffff;
        }
      }
    }
  }
}
/* Fallback global: errores en flujo, sin posición absoluta (evita solapamientos) */
.error-formik {
  color: var(--app-status-error);
  font-weight: 600;
  font-size: 1.25rem;
  display: block;
  margin-top: 6px;
  line-height: 1.35;
}

.formik {
  color: var(--app-status-error);
  font-weight: 600;
  font-size: var(--app-font-size-body);
  line-height: 1.4;
}

.svg-inline--fa,
svg[role="img"] {
  vertical-align: middle;
}

/* Nota: `.search-input` / `.select-input` se estilizan de forma específica en Admin (evita colisiones globales). */

/* Dashboard: anchos de inputs/botones los controla cada página (Login max-w-md, Admin según toolbar) */

/* Cloudflare Turnstile: integrado al diseño oscuro (theme=dark + contenedor) */
.turnstile-widget-wrap {
  background: var(--app-bg-card);
  border: 1px solid var(--app-border);
  border-radius: 12px;
  padding: 10px;
  overflow: hidden;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  min-height: 80px;

  iframe {
    border-radius: 8px;
  }
}

/* Chrome Mac: contenedor principal con capa GPU y contain para render estable */
.chrome-mac .main-layout-main-container {
  transform: translateZ(0);
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  contain: layout style;
}

.chrome-mac .main-layout-main-container .content-container {
  transform: translateZ(0);
  -webkit-overflow-scrolling: touch;
}

/* ==========================================================================
   UI Hardening 2026
   Consistencia transversal para rutas internas, modales y estados.
   ========================================================================== */
.main-layout-main-container {
  .card,
  .panel,
  .module-card {
    background: var(--app-bg-card);
    border: 1px solid var(--app-border);
    border-radius: var(--bb-radius-card);
    box-shadow: var(--app-shadow);
  }

  .badge,
  .status-pill {
    border-radius: var(--bb-radius-pill);
    font-weight: var(--app-font-weight-heading);
    letter-spacing: 0.01em;
    padding: 4px 10px;
  }

  table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    background: var(--app-bg-card);
    border: 1px solid var(--app-border);
    border-radius: var(--bb-radius-card);
    overflow: hidden;
  }

  thead th {
    background: var(--app-bg-soft);
    color: var(--app-text-heading);
    font-weight: var(--app-font-weight-heading);
    border-bottom: 1px solid var(--app-border);
  }

  tbody td {
    border-bottom: 1px solid color-mix(in srgb, var(--app-border) 70%, transparent);
    color: var(--app-text-body);
  }

  tbody tr:last-child td {
    border-bottom: 0;
  }

  tbody tr:hover {
    background: color-mix(in srgb, var(--app-accent) 8%, transparent);
  }
}

/* Bootstrap utility overrides to keep brand consistency in dark/light */
.border,
.border-top,
.border-end,
.border-bottom,
.border-start {
  border-color: var(--app-border) !important;
}

.text-muted {
  color: var(--app-text-muted) !important;
}

.modal-content,
.modal-container {
  border-color: var(--app-border) !important;
}

.modal-content input,
.modal-content select,
.modal-content textarea {
  border-color: var(--app-border);
  background: var(--app-bg-card);
  color: var(--app-text-heading);
}

html[data-theme="light"] .modal-content input,
html[data-theme="light"] .modal-content select,
html[data-theme="light"] .modal-content textarea {
  background: color-mix(in srgb, var(--app-bg-card) 70%, var(--app-bg-soft));
  border-color: color-mix(in srgb, var(--app-border) 96%, transparent);
}

.error-formik,
.formik {
  color: var(--app-status-error);
}

.success-message {
  color: var(--app-status-success);
}

.warning-message {
  color: var(--app-status-warning);
}

html[data-theme="light"] :where(.error-formik, .formik, .auth-login-inline-error) {
  color: #C32D2B;
}

html[data-theme="light"] :where(.success-message, .valid-feedback) {
  color: #1D8C39;
}

html[data-theme="light"] :where(.warning-message) {
  color: #8E6611;
}

/* Light: hovers de tablas neutrales (evita zebra/hover cian en superficies claras) */
[data-theme="light"] .main-layout-main-container tbody tr:hover {
  background: rgba(15, 23, 42, 0.03);
}

html[data-theme="light"] .main-layout-main-container :where(.card, .panel, .module-card, .bb-surface) {
  border-color: color-mix(in srgb, var(--app-border) 94%, transparent);
  background: color-mix(in srgb, var(--app-bg-card) 84%, var(--app-bg-soft));
}

/* Chrome Mac: landing (PublicHome) sin scroll horizontal ni recorte */
.chrome-mac .ph {
  width: 100%;
  max-width: 100vw;
  overflow-x: hidden;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

/* Identidad Bear Beat: fuentes; fondo/texto global lo controla index.css con variables semánticas */
.brand-text,
.font-bear {
  font-family: var(--bb-font-brand);
}

/* ==========================================================================
   Public UI Kit (Marketing/Auth/Legal) — UI only, no logic
   ========================================================================== */

.bb-card {
  border-radius: var(--bb-radius-xl);
  border: 1px solid color-mix(in srgb, var(--app-border) 82%, transparent);
  background: color-mix(in srgb, var(--app-bg-card) 96%, transparent);
  box-shadow: var(--bb-shadow-1);
}

.bb-card--shadow-2 {
  box-shadow: var(--bb-shadow-2);
}

.bb-card--soft {
  background: color-mix(in srgb, var(--app-bg-soft) 86%, transparent);
  box-shadow: none;
}

.bb-segmented {
  width: fit-content;
  display: inline-flex;
  align-items: center;
  padding: 4px;
  gap: 6px;
  border-radius: var(--bb-radius-pill);
  border: 1px solid color-mix(in srgb, var(--app-border) 80%, transparent);
  background: color-mix(in srgb, var(--app-bg-card) 84%, transparent);
  backdrop-filter: blur(10px);
}

.bb-segmented__btn {
  appearance: none;
  border: 1px solid transparent;
  background: transparent;
  color: color-mix(in srgb, var(--app-text-body) 92%, transparent);
  cursor: pointer;
  min-height: 44px;
  padding: 0 14px;
  border-radius: var(--bb-radius-pill);
  font-weight: 800;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  transition: background 160ms ease, color 160ms ease, border-color 160ms ease;
}

.bb-segmented__btn:hover:not(:disabled) {
  background: color-mix(in srgb, var(--app-accent) 9%, transparent);
}

.bb-segmented__btn[aria-selected="true"],
.bb-segmented__btn.is-active {
  background: color-mix(in srgb, var(--app-accent) 18%, var(--app-bg-card));
  border-color: color-mix(in srgb, var(--app-accent) 28%, transparent);
  color: var(--app-text-heading);
}

.bb-segmented__btn:disabled {
  cursor: not-allowed;
  opacity: 0.55;
}

.bb-segmented__btn:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--app-accent) 62%, transparent);
  outline-offset: 2px;
}

/* Segmented "switch" variant (2 options, sliding highlight). Used for MXN/USD toggles
   so PublicHome + Planes stay visually consistent without per-page CSS drift. */
.bb-segmented.bb-segmented--switch {
  position: relative;
  width: min(280px, 100%);
  margin: 0 auto;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 0;
  overflow: hidden;
}

.bb-segmented.bb-segmented--switch::before {
  content: "";
  position: absolute;
  top: 4px;
  bottom: 4px;
  left: 4px;
  width: calc(50% - 4px);
  border-radius: var(--bb-radius-pill);
  background: color-mix(in srgb, var(--app-accent) 18%, var(--app-bg-card));
  border: 1px solid color-mix(in srgb, var(--app-accent) 22%, transparent);
  box-shadow: 0 10px 22px color-mix(in srgb, #000000 22%, transparent);
  transition: transform 160ms ease;
  pointer-events: none;
}

.bb-segmented.bb-segmented--switch.is-usd::before {
  transform: translateX(100%);
}

.bb-segmented.bb-segmented--switch .bb-segmented__btn {
  width: 100%;
  text-align: center;
  position: relative;
  z-index: 1;
  border: none;
  background: transparent;
  min-height: 40px;
  padding: 0 12px;
  font-weight: 900;
  letter-spacing: 0.08em;
  transition: color 140ms ease;
}

.bb-segmented.bb-segmented--switch .bb-segmented__btn:hover:not(:disabled) {
  background: transparent;
}

.bb-segmented.bb-segmented--switch .bb-segmented__btn[aria-selected="true"],
.bb-segmented.bb-segmented--switch .bb-segmented__btn.is-active {
  background: transparent;
  border-color: transparent;
  color: var(--app-text-heading);
}

@media (prefers-reduced-motion: reduce) {
  .bb-segmented.bb-segmented--switch::before {
    transition: none;
  }
}

/* ==========================================================================
   Marketing primitives shared across public routes (Home/Planes/Instructions)
   ========================================================================== */

.home-h2 {
  margin: 0 0 12px;
  color: var(--ph-text-heading);
  font-size: clamp(24px, 3.2vw, 34px);
  letter-spacing: -0.014em;
  line-height: 1.14;
  font-weight: 700;
  text-wrap: balance;
}

.home-sub {
  margin: 0;
  color: color-mix(in srgb, var(--ph-text-body) 88%, transparent);
  font-size: clamp(16px, 1.05vw, 18px);
  line-height: 1.58;
  font-weight: 500;
  letter-spacing: 0;
  max-width: 68ch;
}

@media (max-width: 480px) {
  .home-sub {
    font-size: 15px;
  }
}

.home-link {
  color: var(--ph-accent);
  text-decoration: none;
  font-weight: 700;
}

.home-link:hover {
  text-decoration: underline;
}

.home-link:focus-visible {
  outline: 2px solid var(--app-focus-ring);
  outline-offset: 2px;
}

.bb-marketing-page {
  min-height: 100vh;
  color: var(--ph-text-body);
  overflow-x: clip;
  background:
    radial-gradient(900px 560px at 10% 0%, var(--bb-landing-spot-1), transparent 60%),
    radial-gradient(860px 520px at 90% 10%, var(--bb-landing-spot-2), transparent 60%),
    linear-gradient(180deg, color-mix(in srgb, var(--ph-bg) 96%, var(--ph-bg-soft) 4%) 0%, var(--ph-bg) 46%, var(--ph-bg) 100%);
}

.bb-marketing-container--narrow {
  width: min(900px, calc(100% - 40px));
  margin: 0 auto;
}

.bb-marketing-container--wide {
  width: min(1120px, calc(100% - 40px));
  margin: 0 auto;
}

.bb-marketing-page.bb-marketing-page--checkout {
  background:
    radial-gradient(
      860px 420px at 8% -8%,
      var(--bb-landing-spot-1),
      transparent 58%
    ),
    radial-gradient(
      860px 460px at 92% -16%,
      var(--bb-landing-spot-2),
      transparent 62%
    ),
    var(--ph-bg);
}

.bb-marketing-page :is(.bb-market-surface, .bb-market-card, .bb-hero-card, .bb-bento-card) {
  transition: transform 170ms ease, border-color 170ms ease, box-shadow 220ms ease, background 220ms ease;
}

@media (hover: hover) and (pointer: fine) {
  .bb-marketing-page :is(.bb-market-surface, .bb-market-card, .bb-hero-card, .bb-bento-card):hover {
    transform: translateY(-2px);
    border-color: color-mix(in srgb, var(--ph-accent) 32%, var(--ph-border));
    box-shadow: var(--ph-shadow-card);
  }
}

@media (max-width: 520px) {
  .bb-marketing-container--narrow {
    width: min(900px, calc(100% - 28px));
  }

  .bb-marketing-container--wide {
    width: min(1120px, calc(100% - 28px));
  }
}

html[data-theme="light"] .bb-marketing-page {
  background:
    radial-gradient(940px 580px at 10% 0%, color-mix(in srgb, var(--ph-accent) 2.1%, transparent), transparent 64%),
    radial-gradient(900px 540px at 90% 10%, color-mix(in srgb, var(--ph-accent) 1.7%, transparent), transparent 64%),
    var(--ph-bg);
}

html[data-theme="light"] .bb-marketing-page :is(.bb-market-surface, .bb-market-card) {
  border-color: color-mix(in srgb, var(--ph-border) 90%, transparent);
  background: color-mix(in srgb, #ffffff 99%, var(--ph-bg-card));
  box-shadow: 0 10px 24px rgba(15, 23, 42, 0.06);
}

html[data-theme="light"] .bb-marketing-page.bb-marketing-page--flat-cards :is(.bb-bento-card, .bb-hero-card) {
  border-color: color-mix(in srgb, var(--ph-border) 92%, transparent);
  background: color-mix(in srgb, #ffffff 99.2%, var(--ph-bg-card));
  box-shadow: 0 12px 26px rgba(15, 23, 42, 0.055);
}

html[data-theme="light"] .bb-marketing-page.bb-marketing-page--checkout {
  background:
    radial-gradient(
      920px 460px at 8% -8%,
      color-mix(in srgb, var(--app-accent) 4.6%, transparent),
      transparent 62%
    ),
    radial-gradient(
      920px 500px at 92% -12%,
      color-mix(in srgb, var(--app-accent) 3.6%, transparent),
      transparent 66%
    ),
    var(--app-bg);
}

.bb-auth-surface {
  min-height: 100vh;
  overflow-x: clip;
  color: var(--app-text-body);
  font-family: var(--bb-font-ui);
}

html[data-theme="light"] .bb-auth-surface {
  color: var(--app-text-heading);
}

.bb-market-surface,
.bb-market-card {
  border-radius: 18px;
  background: color-mix(in srgb, var(--ph-bg-card) 88%, transparent);
  border: 1px solid color-mix(in srgb, var(--ph-border) 72%, transparent);
}

.bb-market-card {
  padding: 16px;
  box-shadow: var(--ph-shadow);
}

.bb-hero-card {
  border-radius: 24px;
  border: 1px solid color-mix(in srgb, var(--bb-border) 78%, transparent);
  background:
    radial-gradient(
      520px 220px at 12% 0%,
      color-mix(in srgb, var(--bb-accent-ink) 9%, transparent),
      transparent 70%
    ),
    color-mix(in srgb, var(--bb-surface) 94%, transparent);
  box-shadow: var(--bb-shadow-card);
  padding: clamp(18px, 2.2vw, 26px);
}

.bb-bento-card {
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--bb-border) 76%, transparent);
  background:
    linear-gradient(
      170deg,
      color-mix(in srgb, var(--bb-accent-ink) 5%, transparent),
      transparent 58%
    ),
    color-mix(in srgb, var(--bb-surface) 92%, transparent);
  box-shadow: var(--bb-shadow);
  padding: 10px 12px;
  display: grid;
  gap: 4px;
  text-align: center;
}

.bb-pill {
  margin: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: 30px;
  padding: 0 12px;
  border-radius: var(--bb-radius-pill);
  font-weight: 900;
  text-transform: uppercase;
}

.bb-pill--soft {
  border: 1px solid color-mix(in srgb, var(--bb-border) 78%, transparent);
  background: color-mix(in srgb, var(--bb-surface-soft) 78%, transparent);
  color: var(--bb-text-heading);
  font-size: 1.1rem;
  letter-spacing: 0.14em;
}

.home-cta {
  appearance: none;
  border: 1px solid transparent;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  min-height: 50px;
  border-radius: 999px;
  padding: 12px 18px;
  text-decoration: none;
  font-weight: 700;
  letter-spacing: 0.004em;
  transition: transform 140ms ease, box-shadow 180ms ease, background 140ms ease, border-color 140ms ease, color 140ms ease;
}

.home-cta--block {
  width: 100%;
}

.home-cta svg {
  flex: 0 0 auto;
}

.home-cta:active {
  transform: translateY(1px);
}

.home-cta:disabled {
  opacity: 0.55;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.home-cta:focus-visible {
  outline: 2px solid var(--app-focus-ring);
  outline-offset: 2px;
}

.home-cta--primary {
  background: var(--ph-btn-bg);
  color: var(--ph-btn-text);
  border-color: color-mix(in srgb, var(--ph-accent) 34%, transparent);
  box-shadow:
    0 14px 32px color-mix(in srgb, var(--ph-glow) 46%, transparent),
    var(--ph-shadow);
}

.home-cta--primary:hover:not(:disabled) {
  background: var(--ph-btn-hover-bg);
  border-color: color-mix(in srgb, var(--ph-accent) 54%, transparent);
  transform: translateY(-1px);
  box-shadow:
    0 16px 36px color-mix(in srgb, var(--ph-glow) 56%, transparent),
    var(--ph-shadow-card);
}

.home-cta--secondary {
  background: color-mix(in srgb, var(--ph-bg-card) 86%, transparent);
  color: var(--ph-accent);
  border: 1px solid color-mix(in srgb, var(--ph-accent) 34%, transparent);
}

.home-cta--secondary:hover:not(:disabled) {
  background: color-mix(in srgb, var(--ph-accent) 11%, transparent);
  border-color: color-mix(in srgb, var(--ph-accent) 48%, transparent);
}

html[data-theme="light"] .home-cta--secondary {
  /* LIGHT: avoid translucent pills that look like "colors covering each other". */
  background: color-mix(in srgb, #ffffff 96%, var(--ph-bg-soft));
  border-color: color-mix(in srgb, var(--ph-border) 92%, transparent);
  color: var(--ph-accent);
  box-shadow: 0 10px 20px rgba(15, 23, 42, 0.06);
}

html[data-theme="light"] .home-cta--secondary:hover:not(:disabled) {
  background: color-mix(in srgb, var(--ph-accent) 8%, #ffffff);
  border-color: color-mix(in srgb, var(--ph-accent) 28%, var(--ph-border));
}

html[data-theme="light"] .home-sub {
  color: color-mix(in srgb, var(--ph-text-body) 96%, transparent);
}

@media (prefers-reduced-motion: reduce) {
  .home-cta {
    transition: none !important;
  }

  .home-cta:active {
    transform: none !important;
  }
}

.bb-badge {
  min-height: 26px;
  display: inline-flex;
  align-items: center;
  padding: 0 10px;
  border-radius: var(--bb-radius-pill);
  border: 1px solid color-mix(in srgb, var(--app-border) 82%, transparent);
  background: color-mix(in srgb, var(--app-bg-soft) 82%, transparent);
  color: var(--app-text-muted);
  font-size: 1.2rem;
  font-weight: 800;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  white-space: nowrap;
}

.bb-badge--accent {
  border-color: color-mix(in srgb, var(--app-accent) 34%, transparent);
  background: color-mix(in srgb, var(--app-accent) 12%, transparent);
  color: var(--app-text-heading);
}

.bb-stat-pill {
  min-height: 44px;
  padding: 10px 12px;
  border-radius: var(--bb-radius-pill);
  border: 1px solid color-mix(in srgb, var(--app-border) 82%, transparent);
  background: color-mix(in srgb, var(--app-bg-card) 92%, transparent);
  box-shadow: none;
  display: flex;
  align-items: baseline;
  gap: 10px;
  min-width: 0;
}

.bb-stat-pill__value {
  min-width: 0;
  color: var(--app-text-heading);
  font-weight: 800;
  letter-spacing: -0.01em;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.bb-stat-pill__label {
  color: var(--app-text-muted);
  font-weight: 800;
  font-size: 1.1rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  white-space: nowrap;
}

.bb-accordion {
  display: grid;
  gap: 10px;
}

.bb-accordion__item {
  border-radius: var(--bb-radius-lg);
  border: 1px solid color-mix(in srgb, var(--app-border) 82%, transparent);
  background: color-mix(in srgb, var(--app-bg-soft) 80%, transparent);
  overflow: hidden;
}

.bb-accordion__trigger {
  width: 100%;
  appearance: none;
  border: none;
  background: transparent;
  cursor: pointer;
  color: var(--app-text-heading);
  text-align: left;
  padding: 14px 14px;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 14px;
  font-size: 1.4rem;
  font-weight: 800;
  line-height: 1.35;
}

.bb-accordion__trigger:hover {
  background: color-mix(in srgb, var(--app-accent) 6%, transparent);
}

.bb-accordion__trigger:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--app-accent) 62%, transparent);
  outline-offset: 2px;
}

.bb-accordion__panel {
  padding: 0 14px 14px;
  border-top: 1px solid color-mix(in srgb, var(--app-border) 72%, transparent);
  color: color-mix(in srgb, var(--app-text-body) 92%, transparent);
  font-size: 1.4rem;
  line-height: 1.6;
}

html[data-theme="light"] {
  .bb-card {
    border-color: color-mix(in srgb, var(--app-border) 96%, transparent);
    background: color-mix(in srgb, var(--app-bg-card) 88%, var(--app-bg-soft));
    box-shadow: 0 10px 24px rgba(15, 23, 42, 0.09);
  }

  .bb-card--soft {
    background: color-mix(in srgb, var(--app-bg-soft) 86%, var(--app-bg));
    border-color: color-mix(in srgb, var(--app-border) 92%, transparent);
  }

  .bb-segmented {
    border-color: color-mix(in srgb, var(--app-border) 94%, transparent);
    background: color-mix(in srgb, var(--app-bg-card) 84%, var(--app-bg-soft));
    box-shadow: 0 6px 16px rgba(15, 23, 42, 0.08);
  }

  .bb-segmented__btn {
    color: color-mix(in srgb, var(--app-text-body) 96%, transparent);
    letter-spacing: 0.045em;
  }

  .bb-segmented__btn[aria-selected="true"],
  .bb-segmented__btn.is-active {
    background: color-mix(in srgb, var(--app-accent) 16%, var(--app-bg-card));
    border-color: color-mix(in srgb, var(--app-accent) 38%, transparent);
  }

  .bb-badge {
    border-color: color-mix(in srgb, var(--app-border) 94%, transparent);
    background: color-mix(in srgb, var(--app-bg-soft) 78%, var(--app-bg));
  }

  .bb-stat-pill {
    border-color: color-mix(in srgb, var(--app-border) 94%, transparent);
    background: color-mix(in srgb, var(--app-bg-card) 86%, var(--app-bg-soft));
  }

  .bb-accordion__item {
    border-color: color-mix(in srgb, var(--app-border) 94%, transparent);
    background: color-mix(in srgb, var(--app-bg-soft) 84%, var(--app-bg));
  }

  .bb-accordion__panel {
    border-top-color: color-mix(in srgb, var(--app-border) 84%, transparent);
    color: color-mix(in srgb, var(--app-text-body) 96%, transparent);
  }
}

@media (prefers-reduced-motion: reduce) {
  .bb-segmented__btn {
    transition: none !important;
  }
}

/* ==========================================================================
   Brand Coherence Layer 2026 (Global)
   Goal: one visual language across public/auth/admin/modals/states.
   ========================================================================== */

:where(
  .main-layout-main-container,
  .public-home,
  .plans-page,
  .auth-main-container,
  .legal2026,
  .instructions2026,
  .my-account-main-container,
  .checkout-main-container,
  .admin-theme,
  .admin-page-wrap
) {
  font-family: var(--bb-font-ui);
}

:where(
  .public-home,
  .plans-page,
  .auth-main-container,
  .legal2026,
  .instructions2026,
  .my-account-main-container,
  .checkout-main-container,
  .admin-theme,
  .admin-page-wrap
) :where(h1, h2, h3, h4, h5, h6) {
  line-height: 1.14;
  letter-spacing: -0.01em;
  text-wrap: balance;
}

:where(
  .public-home,
  .plans-page,
  .auth-main-container,
  .legal2026,
  .instructions2026,
  .my-account-main-container,
  .checkout-main-container,
  .admin-theme,
  .admin-page-wrap
) :where(p, li, label, small, .text-muted) {
  color: color-mix(in srgb, var(--app-text-body) 95%, transparent);
  line-height: 1.5;
}

:where(
  .public-home,
  .plans-page,
  .auth-main-container,
  .legal2026,
  .instructions2026,
  .my-account-main-container,
  .checkout-main-container,
  .admin-theme,
  .admin-page-wrap
) :where(label, legend, .form-label, .form-text, .helper-text, .empty-text, .hint) {
  font-size: var(--app-font-size-label);
  font-weight: 600;
  letter-spacing: 0;
}

::selection {
  background: color-mix(in srgb, var(--app-accent) 24%, transparent);
  color: var(--app-text-heading);
}

/* Legacy + Bootstrap control harmonization */
:where(
  .form-control,
  .form-select,
  .card-input,
  .input,
  .search-input input,
  .search-input__field input,
  .select-input select,
  .select-input .date-input,
  .admin-page-wrap__toolbar input,
  .admin-page-wrap__toolbar select,
  .modal-container input,
  .modal-container select,
  .modal-container textarea
) {
  min-height: 44px;
  border-radius: 12px;
  border: 1px solid color-mix(in srgb, var(--app-border) 88%, transparent);
  background: color-mix(in srgb, var(--app-bg-card) 95%, transparent);
  color: var(--app-text-heading);
  font-size: var(--app-font-size-body);
  font-weight: 600;
  line-height: 1.45;
  letter-spacing: 0;
  box-shadow: none;
}

:where(
  .form-control,
  .form-select,
  .card-input,
  .input,
  .search-input input,
  .search-input__field input,
  .select-input select,
  .select-input .date-input,
  .admin-page-wrap__toolbar input,
  .admin-page-wrap__toolbar select,
  .modal-container input,
  .modal-container select,
  .modal-container textarea
)::placeholder {
  color: color-mix(in srgb, var(--app-text-muted) 96%, transparent);
}

:where(
  .form-control,
  .form-select,
  .card-input,
  .input,
  .search-input input,
  .search-input__field input,
  .select-input select,
  .select-input .date-input,
  .admin-page-wrap__toolbar input,
  .admin-page-wrap__toolbar select,
  .modal-container input,
  .modal-container select,
  .modal-container textarea
):focus-visible {
  outline: none;
  border-color: color-mix(in srgb, var(--app-accent) 56%, var(--app-border));
  box-shadow: 0 0 0 3px var(--app-focus-ring);
}

/* Force phone-input library internals to respect the global UI typography. */
:where(.react-tel-input, .react-tel-input *) {
  font-family: var(--bb-font-ui) !important;
}

/* Legacy CTA/button harmonization across pages and admin tools */
:where(
  .btn,
  .btn-primary,
  .btn-secondary,
  .btn-outline-primary,
  .btn-outline-secondary,
  .btn-addUsers,
  .btn-addCoupon,
  .btn-addPlan,
  .btn-addDomain,
  .btn-addPhone,
  .btn-option-4,
  .btn-success
) {
  min-height: 44px;
  border-radius: var(--bb-radius-pill);
  font-family: var(--bb-font-ui);
  font-size: var(--app-font-size-button);
  font-weight: 800;
  letter-spacing: 0.01em;
  line-height: 1.1;
}

:where(
  .btn-primary,
  .btn-addUsers,
  .btn-addCoupon,
  .btn-addPlan,
  .btn-addDomain,
  .btn-addPhone,
  .btn-option-4,
  .btn-success
) {
  background: var(--app-gradient);
  color: var(--app-btn-text);
  border-color: color-mix(in srgb, var(--app-accent) 36%, transparent);
  box-shadow: var(--app-shadow);
}

html[data-theme="dark"] :where(
  .btn-primary,
  .btn-addUsers,
  .btn-addCoupon,
  .btn-addPlan,
  .btn-addDomain,
  .btn-addPhone,
  .btn-option-4,
  .btn-success
) {
  box-shadow: 0 12px 24px color-mix(in srgb, var(--app-accent) 28%, transparent);
}

:where(
  .btn-secondary,
  .btn-outline-primary,
  .btn-outline-secondary,
  .btn-option-5
) {
  background: color-mix(in srgb, var(--app-bg-card) 96%, transparent);
  color: var(--app-text-heading);
  border-color: color-mix(in srgb, var(--app-border) 88%, transparent);
}

:where(
  .alert,
  .alert-success,
  .alert-danger,
  .alert-warning,
  .toast,
  .toast-body,
  .modal-header,
  .modal-body,
  .modal-footer,
  .bb-alert,
  .analytics-alert,
  .crm-toast,
  .admin-error-strip
) {
  font-family: var(--bb-font-ui);
  line-height: 1.5;
  letter-spacing: 0;
}

:where(button, .btn, .bb-btn, .bb-icon-btn, .ma-btn, .checkout-cta-btn) svg {
  flex-shrink: 0;
}

:where(
  .error-formik,
  .formik,
  .auth-login-inline-error,
  .invalid-feedback
) {
  color: var(--app-status-error);
  font-size: var(--app-font-size-caption);
  font-weight: 700;
  line-height: 1.4;
}

:where(.valid-feedback) {
  color: var(--app-status-success);
  font-size: var(--app-font-size-caption);
  font-weight: 700;
  line-height: 1.4;
}

:where(.success-message, .warning-message) {
  font-size: var(--app-font-size-caption);
  font-weight: 700;
  line-height: 1.4;
}

/* Modal system coherence (bootstrap + custom modals). */
.modal-backdrop.show {
  background: color-mix(in srgb, #020812 56%, transparent);
  opacity: 0.54;
}

.modal-content {
  border-radius: 18px !important;
  border: 1px solid color-mix(in srgb, var(--app-border) 90%, transparent) !important;
  background: color-mix(in srgb, var(--app-bg-card) 98%, transparent) !important;
  box-shadow: var(--app-shadow-card) !important;
}

.modal-content .modal-header,
.modal-content .modal-footer {
  border-color: color-mix(in srgb, var(--app-border) 84%, transparent);
}

.modal-content .modal-title {
  color: var(--app-text-heading);
  font-weight: 800;
  letter-spacing: -0.01em;
}

.modal-content .btn-close {
  opacity: 0.75;
}

.modal-content .btn-close:hover {
  opacity: 1;
}

html[data-theme="light"] .modal-content {
  border-color: color-mix(in srgb, var(--app-border) 96%, transparent) !important;
  background: color-mix(in srgb, var(--app-bg-card) 90%, var(--app-bg-soft)) !important;
  box-shadow: 0 18px 40px rgba(15, 23, 42, 0.16) !important;
}

/* Status surfaces consistency */
:where(.bb-alert, .analytics-alert, .crm-toast, .admin-error-strip) {
  border-radius: 14px;
}

html[data-theme="light"] :where(.bb-alert, .analytics-alert, .crm-toast, .admin-error-strip) {
  box-shadow: 0 8px 18px rgba(15, 23, 42, 0.06);
}

/* Sonner toasts */
.bb-toast {
  border-radius: 12px !important;
  border: 1px solid color-mix(in srgb, var(--app-border) 86%, transparent) !important;
  background: color-mix(in srgb, var(--app-bg-card) 98%, transparent) !important;
  color: var(--app-text-heading) !important;
  box-shadow: var(--app-shadow) !important;
  font-family: var(--bb-font-ui) !important;
}

.bb-toast--success {
  border-color: color-mix(in srgb, var(--app-status-success) 52%, transparent) !important;
  background: color-mix(in srgb, var(--app-status-success) 14%, var(--app-bg-card)) !important;
}

.bb-toast--error {
  border-color: color-mix(in srgb, var(--app-status-error) 56%, transparent) !important;
  background: color-mix(in srgb, var(--app-status-error) 14%, var(--app-bg-card)) !important;
}

.bb-toast--warning {
  border-color: color-mix(in srgb, var(--app-status-warning) 60%, transparent) !important;
  background: color-mix(in srgb, var(--app-status-warning) 18%, var(--app-bg-card)) !important;
}

.bb-toast--info {
  border-color: color-mix(in srgb, var(--color-teal) 58%, transparent) !important;
  background: color-mix(in srgb, var(--color-teal) 14%, var(--app-bg-card)) !important;
}

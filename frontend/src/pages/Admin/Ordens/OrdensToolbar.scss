@import "src/styles/_variables-theme.scss";

.orders-toolbar {
  width: 100%;
  display: flex;
  flex-wrap: wrap;
  align-items: flex-end;
  gap: 10px;
}

.orders-toolbar__filters {
  flex: 1 1 760px;
  min-width: 0;
  display: grid;
  gap: 10px;
  align-items: end;
  grid-template-columns:
    minmax(220px, 1.7fr)
    minmax(130px, 1fr)
    minmax(130px, 1fr)
    minmax(140px, 1fr)
    minmax(140px, 1fr)
    minmax(90px, auto)
    minmax(110px, 125px);
}

.orders-toolbar__search {
  position: relative;
  min-width: 0;
}

.orders-toolbar__field {
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.orders-toolbar__label {
  display: inline-flex;
  align-items: center;
  min-height: 16px;
  color: color-mix(in srgb, var(--ad-text-muted) 96%, transparent);
  font-size: 0.74rem;
  font-weight: 800;
  letter-spacing: 0.02em;
}

.orders-toolbar__control {
  width: 100%;
  min-width: 0;
}

.orders-toolbar__control--input,
.orders-toolbar__control--select,
.orders-toolbar__control--date {
  height: 44px;
  border-radius: 10px;
  transition: border-color 0.14s ease, background-color 0.14s ease;
}

.orders-toolbar__status {
  min-height: 24px;
  padding: 0 9px;
  border-radius: 999px;
  border: 1px solid transparent;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  white-space: nowrap;
  line-height: 1;
  font-size: 0.72rem;
  font-weight: 800;
  letter-spacing: 0.03em;
  text-transform: uppercase;
}

.orders-toolbar__status--paid {
  color: var(--ad-badge-success-text);
  background: color-mix(in srgb, var(--ad-badge-success-bg) 92%, transparent);
  border-color: color-mix(in srgb, var(--ad-badge-success-text) 32%, transparent);
}

.orders-toolbar__status--muted {
  color: var(--ad-badge-neutral-text);
  background: color-mix(in srgb, var(--ad-badge-neutral-bg) 88%, transparent);
  border-color: color-mix(in srgb, var(--ad-text-muted) 42%, transparent);
}

.orders-toolbar__mobile-list {
  width: 100%;
  max-width: 100%;
}

.orders-toolbar__mobile-card {
  text-align: left;
  padding: 11px 12px;
  border-radius: 14px;
  border: 1px solid color-mix(in srgb, var(--ad-border) 84%, transparent);
  background: color-mix(in srgb, var(--ad-card) 96%, transparent);
  width: 100%;
  transition: border-color 0.16s ease, background 0.16s ease;
}

.orders-toolbar__mobile-card:hover,
.orders-toolbar__mobile-card:active {
  border-color: color-mix(in srgb, var(--ad-accent) 42%, transparent);
  background: color-mix(in srgb, var(--ad-row-hover) 80%, transparent);
}

.orders-toolbar__mobile-card__content {
  min-width: 0;
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto auto;
  gap: 8px;
  align-items: center;
}

.orders-toolbar__mobile-card__main {
  min-width: 0;
}

.orders-toolbar__mobile-card__title {
  margin: 0;
  color: var(--ad-title);
  font-size: 0.98rem;
  font-weight: 700;
  line-height: 1.25;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.orders-toolbar__mobile-card__meta {
  margin: 4px 0 0;
  color: var(--ad-text-muted);
  font-size: 0.84rem;
  line-height: 1.3;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.orders-toolbar__mobile-card__more {
  width: 36px;
  height: 36px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 10px;
  border: 1px solid color-mix(in srgb, var(--ad-border) 74%, transparent);
  background: color-mix(in srgb, var(--ad-card) 88%, transparent);
  color: var(--ad-text-muted);
}

.orders-toolbar__mobile-card--skeleton {
  pointer-events: none;
}

.orders-toolbar__mobile-card--skeleton > div {
  border-radius: 10px;
  animation: admin-skeleton 1.2s ease-in-out infinite;
  background: color-mix(in srgb, var(--ad-row-hover) 80%, transparent);
}

.orders-toolbar__mobile-pagination {
  border-radius: 12px;
  border: 1px solid color-mix(in srgb, var(--ad-border) 82%, transparent);
  background: color-mix(in srgb, var(--ad-card) 96%, transparent);
  padding: 10px 8px;
}

.orders-toolbar__today {
  white-space: nowrap;
  font-weight: 700;
}

.orders-toolbar__export {
  min-height: 44px;
  align-self: stretch;
  justify-content: center;
  border-radius: 999px;
  font-weight: 800;
  white-space: nowrap;
}

@media (max-width: 1280px) {
  .orders-toolbar__filters {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }

  .orders-toolbar__search {
    grid-column: 1 / -1;
  }
}

@media (max-width: 860px) {
  .orders-toolbar {
    align-items: stretch;
  }

  .orders-toolbar__filters {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .orders-toolbar__search {
    grid-column: 1 / -1;
  }

  .orders-toolbar__export {
    width: 100%;
  }
}

@media (max-width: 560px) {
  .orders-toolbar {
    gap: 8px;
    align-items: stretch;
  }

  .orders-toolbar__filters {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    grid-template-areas:
      "search search"
      "method status"
      "start end"
      "today limit";
    gap: 8px;

    /* Native date inputs need more width on very small screens (iPhone). */
    @media (max-width: 420px) {
      grid-template-areas:
        "search search"
        "method status"
        "start start"
        "end end"
        "today limit";
    }

    /* Ultra small screens: stack every control to avoid any overflow. */
    @media (max-width: 390px) {
      grid-template-columns: 1fr;
      grid-template-areas:
        "search"
        "method"
        "status"
        "start"
        "end"
        "today"
        "limit";
    }
  }

  .orders-toolbar__search {
    grid-area: search;
    grid-column: 1 / -1;
  }

  .orders-toolbar__field--method {
    grid-area: method;
  }

  .orders-toolbar__field--status {
    grid-area: status;
  }

  .orders-toolbar__field--start {
    grid-area: start;
  }

  .orders-toolbar__field--end {
    grid-area: end;
  }

  .orders-toolbar__today {
    grid-area: today;
  }

  .orders-toolbar__field--limit {
    grid-area: limit;
  }

  .orders-toolbar__today {
    width: 100%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .orders-toolbar__label {
    font-size: 0.78rem;
  }

  .orders-toolbar__export {
    width: 100%;
    min-height: 46px;
  }
}

@media (max-width: 420px) {
  .orders-toolbar__filters {
    grid-template-columns: 1fr;
    grid-template-areas:
      "search"
      "method"
      "status"
      "start"
      "end"
      "today"
      "limit";
  }

  .orders-toolbar__search {
    grid-area: search;
  }

  .orders-toolbar__field--method,
  .orders-toolbar__field--status,
  .orders-toolbar__field--start,
  .orders-toolbar__field--end,
  .orders-toolbar__today,
  .orders-toolbar__field--limit {
    grid-column: 1 / -1;
  }
}

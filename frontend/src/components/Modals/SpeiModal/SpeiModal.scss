// SpeiModal — Terminal de Transferencia SPEI (Dark + Light)
// Tipografía --app-*, Poppins; respeta data-theme
@import "../../../styles/_variables-theme.scss";

// ----- Dark (terminal cyberpunk) -----
$spei-bg-dark: var(--bb-dark-200);
$spei-border-dark: color-mix(in srgb, var(--bb-cyan) 32%, transparent);
$spei-cyan: var(--bb-cyan);
$spei-cyan-bright: var(--bb-cyan);
$spei-text-dark: var(--bb-text-heading);
$spei-muted-dark: var(--bb-text-muted);
$spei-warning: var(--bb-warning);
$spei-success: var(--bb-success);

// ----- Light (terminal clara, misma jerarquía) -----
$spei-bg-light: var(--bb-surface);
$spei-border-light: color-mix(in srgb, var(--bb-cyan) 35%, transparent);
$spei-cyan-light: var(--bb-cyan);
$spei-text-light: var(--bb-text-heading);
$spei-muted-light: var(--bb-text-muted);
$spei-warning-light: var(--bb-warning);
$spei-success-light: var(--bb-success);

.spei-modal-wrapper {
  .modal-content {
    background: transparent;
    border: none;
    box-shadow: none;
  }
  .modal-dialog {
    max-width: 100%;
    margin: 1rem;
  }
}

// Base estructural (común)
.spei-terminal {
  border-radius: 0.75rem;
  box-shadow: var(--app-shadow-card);
  overflow: hidden;
  font-family: "Poppins", sans-serif;
  max-width: 28rem;
  margin: 0 auto;

  &__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1rem 1.25rem;
  }

  &__title {
    margin: 0;
    font-size: var(--app-font-size-h3);
    font-weight: var(--app-font-weight-heading);
    font-family: "Poppins", sans-serif;
  }

  &__close {
    background: none;
    border: none;
    padding: 0.5rem;
    min-width: 48px;
    min-height: 48px;
    cursor: pointer;
    font-size: var(--app-font-size-h3);
    line-height: 1;
    border-radius: 0.5rem;
    transition: color 0.2s;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  &__body {
    padding: 1.25rem;
  }

  &__block {
    margin-bottom: 1.25rem;
  }

  &__block--highlight {
    padding: 1rem;
    border-radius: 0.75rem;
    margin-bottom: 1rem;
  }

  &__value {
    margin: 0 0 0.25rem;
    font-size: var(--app-font-size-body-lg);
    font-weight: var(--app-font-weight-heading);
    word-break: break-word;
  }

  &__value--holder {
    font-family: ui-monospace, "SF Mono", monospace;
    letter-spacing: 0.02em;
  }

  &__hint {
    margin: 0;
    font-size: 0.95em;
    opacity: 0.9;
    line-height: 1.4;
  }

  &__label {
    display: block;
    font-size: var(--app-font-size-body);
    font-weight: var(--app-font-weight-heading);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 0.5rem;
  }

  &__clabe-row,
  &__amount-row {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex-wrap: wrap;
  }

  &__clabe {
    font-family: ui-monospace, "SF Mono", "Fira Code", monospace;
    font-size: var(--app-font-size-body-lg);
    padding: 0.75rem 1rem;
    border-radius: 0.5rem;
    word-break: break-all;
    flex: 1;
    min-width: 0;
  }

  &__amount {
    font-size: var(--app-font-size-h2);
    font-weight: var(--app-font-weight-heading-strong);
    font-family: ui-monospace, "SF Mono", monospace;
  }

  &__copy-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    min-height: 48px;
    border-radius: 0.5rem;
    font-size: var(--app-font-size-body);
    font-weight: var(--app-font-weight-body);
    cursor: pointer;
    transition: background 0.2s, color 0.2s;
    flex-shrink: 0;

    svg {
      width: 1.25rem;
      height: 1.25rem;
    }
  }

  &__warning {
    margin: 0.5rem 0 0;
    font-size: var(--app-font-size-body);
  }

  &__steps {
    margin: 1rem 0;
    padding-left: 1.25rem;
    font-size: var(--app-font-size-body);
    line-height: 1.6;

    li {
      margin-bottom: 0.375rem;
    }
  }

  &__expires {
    font-size: var(--app-font-size-body);
    margin: 0 0 0.75rem;
  }

  &__trust {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: var(--app-font-size-body);
    margin-bottom: 1.25rem;

    svg {
      width: 1.25rem;
      height: 1.25rem;
      flex-shrink: 0;
    }
  }

  &__actions {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  &__btn-primary {
    width: 100%;
    padding: 12px 1rem;
    min-height: 48px;
    border: none;
    border-radius: 12px;
    font-size: var(--app-font-size-body);
    font-weight: var(--app-font-weight-heading);
    font-family: "Poppins", sans-serif;
    cursor: pointer;
    transition: background 0.2s, transform 0.1s;

    &:active {
      transform: scale(0.98);
    }
  }

  &__btn-secondary {
    width: 100%;
    padding: 12px 1rem;
    min-height: 48px;
    background: transparent;
    border: none;
    font-size: var(--app-font-size-body);
    font-family: "Poppins", sans-serif;
    cursor: pointer;
    transition: color 0.2s;
  }
}

// ----- Tema DARK (terminal cyberpunk) — default y cuando data-theme="dark" -----
.spei-terminal,
[data-theme="dark"] .spei-terminal,
html.dark .spei-terminal {
  background: $spei-bg-dark;
  border: 1px solid $spei-border-dark;

  .spei-terminal__header {
    border-bottom: 1px solid $spei-border-dark;
  }
  .spei-terminal__title {
    color: $spei-text-dark;
  }
  .spei-terminal__close {
    color: $spei-muted-dark;
    &:hover {
      color: $spei-text-dark;
    }
  }
  .spei-terminal__label {
    color: $spei-muted-dark;
  }
  .spei-terminal__block--highlight {
    background: color-mix(in srgb, var(--bb-cyan) 12%, transparent);
    border: 1px solid $spei-border-dark;
  }
  .spei-terminal__value {
    color: $spei-cyan;
  }
  .spei-terminal__hint {
    color: $spei-muted-dark;
  }
  .spei-terminal__clabe {
    color: $spei-cyan;
    background: color-mix(in srgb, var(--bb-cyan) 10%, transparent);
  }
  .spei-terminal__amount {
    color: $spei-text-dark;
  }
  .spei-terminal__copy-btn {
    background: color-mix(in srgb, var(--bb-cyan) 20%, transparent);
    border: 1px solid $spei-border-dark;
    color: $spei-cyan;
    &:hover {
      background: color-mix(in srgb, var(--bb-cyan) 30%, transparent);
      color: var(--bb-text-heading);
    }
  }
  .spei-terminal__warning {
    color: $spei-warning;
  }
  .spei-terminal__steps {
    color: $spei-muted-dark;
  }
  .spei-terminal__expires {
    color: $spei-muted-dark;
    strong {
      color: $spei-text-dark;
    }
  }
  .spei-terminal__trust {
    color: $spei-muted-dark;
    svg {
      color: $spei-success;
    }
  }
  .spei-terminal__btn-primary {
    background: $spei-cyan-bright;
    color: var(--app-btn-text);
    &:hover {
      background: $spei-cyan;
      color: var(--app-btn-text);
    }
  }
  .spei-terminal__btn-secondary {
    color: $spei-muted-dark;
    &:hover {
      color: $spei-text-dark;
    }
  }
}

// ----- Tema LIGHT (terminal clara, misma jerarquía) -----
[data-theme="light"] .spei-terminal {
  background: $spei-bg-light;
  border: 1px solid $spei-border-light;
  box-shadow: var(--app-shadow-card);

  .spei-terminal__header {
    border-bottom: 1px solid $spei-border-light;
  }
  .spei-terminal__title {
    color: $spei-text-light;
  }
  .spei-terminal__close {
    color: $spei-muted-light;
    &:hover {
      color: $spei-text-light;
    }
  }
  .spei-terminal__label {
    color: $spei-muted-light;
  }
  .spei-terminal__block--highlight {
    background: color-mix(in srgb, var(--bb-cyan) 10%, transparent);
    border: 1px solid $spei-border-light;
  }
  .spei-terminal__value {
    color: $spei-cyan-light;
  }
  .spei-terminal__hint {
    color: $spei-muted-light;
  }
  .spei-terminal__clabe {
    color: $spei-cyan-light;
    background: color-mix(in srgb, var(--bb-cyan) 10%, transparent);
  }
  .spei-terminal__amount {
    color: $spei-text-light;
  }
  .spei-terminal__copy-btn {
    background: color-mix(in srgb, var(--bb-cyan) 12%, transparent);
    border: 1px solid $spei-border-light;
    color: $spei-cyan-light;
    &:hover {
      background: color-mix(in srgb, var(--bb-cyan) 20%, transparent);
      color: var(--app-btn-text);
    }
  }
  .spei-terminal__warning {
    color: $spei-warning-light;
  }
  .spei-terminal__steps {
    color: $spei-muted-light;
  }
  .spei-terminal__expires {
    color: $spei-muted-light;
    strong {
      color: $spei-text-light;
    }
  }
  .spei-terminal__trust {
    color: $spei-muted-light;
    svg {
      color: $spei-success-light;
    }
  }
  .spei-terminal__btn-primary {
    background: $spei-cyan-light;
    color: var(--app-btn-text);
    &:hover {
      background: var(--bb-cyan);
      color: var(--app-btn-text);
    }
  }
  .spei-terminal__btn-secondary {
    color: $spei-muted-light;
    &:hover {
      color: $spei-text-light;
    }
  }
}
